LLM1 PROMPT:
You are an expert in XML structure generation for compartmental epidemiological models with stratification support.

Your task is to generate a structurally correct compartmental model in XML format based on the provided user input and the v3 metamodel specification.

**XML Formatting Rules - CRITICAL**
- Output ONLY valid, well-formed XML with no markdown code blocks, no ```xml tags, no explanations before or after.
- Every opening tag must have a corresponding closing tag.
- Self-closing tags MUST end with `/>`.
- Ensure there are no stray characters or missing `>` or `/>`.
- Do not break tags across multiple lines.
- Use proper indentation (2 spaces per level).
- Validate the entire structure before output: check matching tag pairs, correct attribute quotes, no illegal characters.

**Modeling Rules**
- Generate compartments, flows, parameters, groups, products, birth sources, and death sinks exactly as specified in user input.
- Do NOT assume a fixed model structure (e.g., SEIR) unless explicitly specified by the user.
- For PARAMETRIC models: Use parameter references as defined in the metamodel. Set numeric attributes to 0.0 as placeholders where required.
- For NUMERIC models: Use numeric attributes with [[rate_missing]] as placeholder values.
- Use 0-based indexing for all references (parameters, compartments, groups, products).
- Follow the v3 metamodel strictly for element names, attributes, and nesting structure.
- If user input specifies stratification (Groups/Products), apply product references to compartments and create stratum-specific rates as instructed.
- For ContactFlow elements, include contactCompartment only if required by the metamodel and user input.
- Generate all flows, birth sources, and death sinks as listed in user input. Do not omit any.

**Reference Format**
- Parameter references: parameter="//@parameters.X" where X is the 0-based parameter index
- Compartment references: target="//@compartments.X" or sourceCompartment="//@compartments.X"
- Product references: product="//@products.X"
- Group references: groups="//@groups.X"

**Reasoning**
- Before generating XML, output your reasoning as XML comments at the top explaining:
  * How many compartments, parameters, groups, products you will create
  * Which compartments are stratified and by which product
  * How you mapped flows from user input to XML structure
  * Any assumptions or interpretations made

**Output Format**
- First: XML comments with reasoning
- Then: Complete XML structure starting with <?xml version="1.0" encoding="UTF-8"?>
- No markdown formatting, no code fences, no explanatory text outside XML comments
- The output must be directly parseable as XML
********************************************************************************
METAMODEL:
{
  "compartmental_metamodel": {
    "version": "3.1",
    "description": "EpiMDE Compartmental Metamodel - Unified framework for epidemiological models, classical traffic networks, and Traffic Reaction Model (TRM) with parametric (symbolic) modeling support",
    "changelog": {
      "3.1": "Added Traffic Reaction Model (TRM) support with flux decomposition, dual variable tracking, and kinetic interpretation. New decomposition types: TRM_MAK, TRM_GODUNOV, TRM_CAPACITATED. Extended TRM with capacity drop factors. Fully backward compatible.",
      "3.0": "Added traffic network modeling with supply-demand dynamics, PP/FIFO junction rules, and triangular fundamental diagram support. Fully backward compatible with disease models.",
      "2.0": "Added comprehensive parameter system for symbolic/parametric modeling with Unicode support",
      "1.0": "Initial SEIR/epidemiological metamodel"
    },
    "structure": {
      "xml_declaration": {
        "version": "1.0",
        "encoding": "UTF-8"
      },
      "root_element": {
        "tag": "seir:SEIRModel",
        "attributes": {
          "xmi:version": "2.0",
          "xmlns:xmi": "http://www.omg.org/XMI",
          "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",
          "xmlns:seir": "http://example.com/seirmodel"
        },
        "optional_attributes": [
          "totalPopulation",
          "globalBirthRate",
          "globalDeathRate"
        ]
      },
      "parameters": {
        "element": "parameters",
        "required_attributes": [
          "name"
        ],
        "optional_attributes": [
          "type",
          "expression",
          "description",
          "unit"
        ],
        "description": "Named parameters for symbolic/parametric modeling. Enables separation of model structure from parameter values.",
        "attributes": {
          "name": {
            "description": "Parameter identifier. Supports Unicode including Greek letters (\u03b1, \u03b2, \u03b3, \u03b4, \u03bc, \u03c1, \u03b8, \u03bb) and subscripts (\u2095, \u1d65, \u2081, \u2082)",
            "examples": [
              "\u03b2\u2081",
              "\u03bc\u2095",
              "a(T)",
              "\u03b2\u2082a(T)",
              "\u03b8\u1d65(T,R)",
              "\u03b3\u2095"
            ]
          },
          "type": {
            "description": "Parameter type: CONSTANT (default), VARIABLE, or EXPRESSION",
            "values": [
              "CONSTANT",
              "VARIABLE",
              "EXPRESSION"
            ],
            "default": "CONSTANT"
          },
          "expression": {
            "description": "For CONSTANT/VARIABLE: numeric value. For EXPRESSION: mathematical formula referencing other parameters/compartments",
            "examples": [
              "0.001384",
              "0.000203 * T * (T - 11.7) * sqrt(42.3 - T)",
              "\u03b2\u2082 * a(T)",
              "\u03bc\u2095 + 0.017325"
            ]
          },
          "description": {
            "description": "Human-readable explanation of the parameter",
            "examples": [
              "Natural mortality rate of human population",
              "Mosquito biting rate",
              "Recovery rate Ih to Rh"
            ]
          },
          "unit": {
            "description": "Physical unit of measurement. Supports Unicode symbols.",
            "examples": [
              "per day",
              "1/time",
              "dimensionless",
              "\u00b0C",
              "bites/person/time"
            ]
          }
        },
        "parameter_types": {
          "CONSTANT": {
            "description": "Fixed value with a name, used for model parameters that don't change during simulation",
            "use_cases": [
              "Natural death rates",
              "Recovery rates",
              "Transmission probabilities"
            ],
            "example": "<parameters name=\"\u03bc\u2095\" expression=\"0.001384\" description=\"Natural mortality rate\" unit=\"1/time\"/>"
          },
          "VARIABLE": {
            "description": "Placeholder for values provided at simulation time, such as environmental conditions or intervention levels",
            "use_cases": [
              "Temperature",
              "Rainfall",
              "Intervention effectiveness"
            ],
            "example": "<parameters name=\"T\" type=\"VARIABLE\" description=\"Temperature\" unit=\"\u00b0C\"/>"
          },
          "EXPRESSION": {
            "description": "Computed value defined as a mathematical expression referencing other parameters and/or compartments",
            "use_cases": [
              "Combined rates",
              "Temperature-dependent rates",
              "Death rates with disease mortality"
            ],
            "example": "<parameters name=\"\u03b2\u2082a(T)\" type=\"EXPRESSION\" expression=\"\u03b2\u2082 * a(T)\" description=\"Combined contact rate\" unit=\"1/time\"/>"
          }
        }
      },
      "compartments": {
        "element": "compartments",
        "required_attributes": [
          "PrimaryName"
        ],
        "optional_attributes": [
          "SecondaryName",
          "population",
          "product",
          "junctionRule"
        ],
        "child_elements": [
          "outgoingFlows",
          "supplyFunction"
        ],
        "constraints": {
          "product": "Reference to product using format '//@products.X'",
          "junctionRule": "Optional. For traffic models use PPFIFO. For disease models use NONE (default)."
        },
        "attributes": {
          "PrimaryName": {
            "description": "Main identifier for the compartment",
            "examples": [
              "Susceptible",
              "Exposed",
              "Infectious",
              "Onramp1",
              "Link2"
            ]
          },
          "SecondaryName": {
            "description": "Additional descriptor for stratification or link type",
            "examples": [
              "Adults",
              "Children",
              "Ordinary",
              "Onramp"
            ]
          },
          "population": {
            "description": "Initial population count (disease models) or initial density (traffic models)",
            "constraint": "Must be float/decimal value"
          },
          "junctionRule": {
            "description": "Junction rule type for traffic models. NONE for disease models (default), PPFIFO for traffic networks.",
            "values": [
              "NONE",
              "PPFIFO",
              "CUSTOM"
            ],
            "default": "NONE"
          }
        }
      },
      "supplyFunction": {
        "element": "supplyFunction",
        "required_attributes": [
          "type"
        ],
        "optional_attributes": [
          "isSourceNode",
          "maxDensity",
          "criticalDensity",
          "maxThroughput",
          "maxDemand",
          "omega",
          "capacityDropFactor",
          "enableDualVariable"
        ],
        "description": "Flow network supply and demand functions based on capacity constraints. Supports classical traffic models (Coogan & Arcak 2015) and Traffic Reaction Model (TRM) with kinetic decompositions (Pereira et al. 2024). Generalizable to traffic networks, queue systems, pipeline networks, etc. Only present for flow-constrained models. Disease models do not have this element.",
        "attributes": {
          "type": {
            "description": "Type of supply/demand function",
            "values": [
              "NONE",
              "TRIANGULAR",
              "LINEAR",
              "CUSTOM",
              "TRM_MAK",
              "TRM_GODUNOV",
              "TRM_CAPACITATED"
            ],
            "default": "NONE"
          },
          "isSourceNode": {
            "description": "Boolean indicating if this is a source/entry node with external input (true) or constrained internal node (false)",
            "values": [
              "true",
              "false"
            ],
            "default": "false",
            "examples": [
              "Onramps in traffic, generators in systems, entry queues in networks"
            ]
          },
          "maxDensity": {
            "description": "Maximum density/capacity - saturation point (constrained nodes only)",
            "unit": "entities/space",
            "traffic_example": "\u03c1^jam - vehicles per length when stopped"
          },
          "criticalDensity": {
            "description": "Critical density/threshold - point of maximum throughput (constrained nodes only)",
            "unit": "entities/space",
            "traffic_example": "\u03c1^crit - density at maximum flow"
          },
          "maxThroughput": {
            "description": "Maximum throughput/capacity - max flow rate (constrained nodes only)",
            "unit": "entities/time",
            "traffic_example": "\u03a6^crit - vehicles per hour"
          },
          "maxDemand": {
            "description": "Maximum demand/output rate - upper bound on outflow (source nodes only)",
            "unit": "entities/time",
            "traffic_example": "\u03a6^max - max vehicles per hour from onramp"
          },
          "omega": {
            "description": "Reaction rate constant \u03c9 for TRM_MAK (Mass Action Kinetic) decomposition. Used in flux g(\u03c1,\u03bd) = \u03c9\u03c1\u03bd where \u03bd = \u03c1_max - \u03c1 (TRM models only)",
            "unit": "1/(entities\u00b7time)",
            "trm_example": "\u03c9 = 0.001 for MAK decomposition",
            "default": "0.0"
          },
          "capacityDropFactor": {
            "description": "Time-varying capacity drop factor C_i(t) for Extended TRM models. Enables modeling of changing traffic conditions (incidents, construction, weather). Value in range (0, 1] where 1 = normal capacity (TRM models only)",
            "unit": "dimensionless",
            "trm_example": "0.75 represents 25% capacity reduction",
            "default": "1.0"
          },
          "enableDualVariable": {
            "description": "Boolean flag to enable dual variable tracking: \u03c1 (vehicle density) and \u03bd (free space density) where \u03bd = \u03c1_max - \u03c1. Enables kinetic/compartmental interpretation of TRM (TRM models only)",
            "values": [
              "true",
              "false"
            ],
            "default": "false",
            "note": "When true, simulation tracks both occupied space N_i and free space S_i"
          }
        },
        "examples": {
          "source_node": "<supplyFunction type=\"TRIANGULAR\" isSourceNode=\"true\" maxDemand=\"3000\"/>",
          "constrained_node": "<supplyFunction type=\"TRIANGULAR\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\"/>",
          "trm_mak_node": "<supplyFunction type=\"TRM_MAK\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\" omega=\"0.001\" enableDualVariable=\"true\"/>",
          "trm_godunov_node": "<supplyFunction type=\"TRM_GODUNOV\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\" enableDualVariable=\"true\"/>",
          "extended_trm_node": "<supplyFunction type=\"TRM_CAPACITATED\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\" capacityDropFactor=\"0.8\" enableDualVariable=\"true\"/>"
        }
      },
      "outgoingFlows": {
        "abstract_element": "outgoingFlows",
        "concrete_types": [
          "RateFlow",
          "ContactFlow"
        ],
        "common_required_attributes": [
          "target"
        ],
        "common_optional_attributes": [
          "description"
        ],
        "constraints": {
          "target": "Must be 0-based index in format '//@compartments.X'"
        }
      },
      "RateFlow": {
        "element": "outgoingFlows",
        "xsi_type": "seir:RateFlow",
        "modeling_modes": {
          "numeric": {
            "required_attributes": [
              "rate",
              "target"
            ],
            "description": "Use numeric rate attribute directly"
          },
          "parametric": {
            "required_attributes": [
              "rateParameter",
              "target"
            ],
            "description": "Reference a Parameter by index. Parameter takes precedence over numeric rate."
          }
        },
        "optional_attributes": [
          "description"
        ],
        "child_elements": [
          "stratumSpecificRates"
        ],
        "attributes": {
          "rate": {
            "description": "Numeric rate value. For parametric models, set to 0.0 and use rateParameter instead.",
            "constraint": "Must be float/decimal value"
          },
          "rateParameter": {
            "description": "Reference to a Parameter defining this flow's rate. Format: '//@parameters.X' where X is 0-based index.",
            "constraint": "Must reference existing parameter"
          }
        },
        "examples": {
          "numeric": "<outgoingFlows xsi:type=\"seir:RateFlow\" rate=\"0.120342\" target=\"//@compartments.3\"/>",
          "parametric": "<outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.9\" target=\"//@compartments.3\"/>"
        }
      },
      "ContactFlow": {
        "element": "outgoingFlows",
        "xsi_type": "seir:ContactFlow",
        "modeling_modes": {
          "numeric": {
            "required_attributes": [
              "contactRate",
              "contactCompartment",
              "target"
            ],
            "description": "Use numeric contactRate attribute directly"
          },
          "parametric": {
            "required_attributes": [
              "contactRateParameter",
              "contactCompartment",
              "target"
            ],
            "description": "Reference a Parameter by index. Parameter takes precedence over numeric contactRate."
          }
        },
        "optional_attributes": [
          "description",
          "contactParameters"
        ],
        "child_elements": [
          "stratumSpecificRates"
        ],
        "attributes": {
          "contactRate": {
            "description": "Numeric contact/transmission rate. For parametric models, set to 0.0 and use contactRateParameter instead.",
            "constraint": "Must be float/decimal value"
          },
          "contactRateParameter": {
            "description": "Reference to a Parameter defining this flow's contact rate. Format: '//@parameters.X' where X is 0-based index.",
            "constraint": "Must reference existing parameter"
          },
          "contactCompartment": {
            "description": "Reference to compartment influencing transmission (usually Infectious or Infected Mosquitoes)",
            "constraint": "Must reference existing compartment using format '//@compartments.X'"
          }
        },
        "examples": {
          "numeric": "<outgoingFlows xsi:type=\"seir:ContactFlow\" contactRate=\"0.09636\" contactCompartment=\"//@compartments.1\" target=\"//@compartments.1\"/>",
          "parametric": "<outgoingFlows xsi:type=\"seir:ContactFlow\" contactRateParameter=\"//@parameters.2\" contactCompartment=\"//@compartments.6\" target=\"//@compartments.1\"/>"
        }
      },
      "stratumSpecificRates": {
        "element": "stratumSpecificRates",
        "modeling_modes": {
          "numeric": {
            "required_attributes": [
              "stratum",
              "rate"
            ],
            "optional_attributes": [
              "multiplier"
            ]
          },
          "parametric": {
            "required_attributes": [
              "stratum"
            ],
            "optional_attributes": [
              "rateParameter",
              "multiplierParameter"
            ]
          }
        },
        "attributes": {
          "rate": "Numeric rate value for this stratum",
          "rateParameter": "Reference to Parameter for this stratum's rate",
          "multiplier": "Numeric multiplier applied to base rate (defaults to 1.0)",
          "multiplierParameter": "Reference to Parameter for multiplier"
        },
        "constraints": {
          "rate": "Must be float/decimal value",
          "multiplier": "Must be float/decimal value, defaults to 1.0",
          "rateParameter": "Format: '//@parameters.X'",
          "multiplierParameter": "Format: '//@parameters.X'"
        }
      },
      "birthSources": {
        "element": "birthSources",
        "modeling_modes": {
          "numeric": {
            "required_attributes": [
              "name",
              "rate",
              "targetCompartment"
            ]
          },
          "parametric": {
            "required_attributes": [
              "name",
              "rateParameter",
              "targetCompartment"
            ]
          }
        },
        "optional_attributes": [
          "targetStratum",
          "fixedRate"
        ],
        "attributes": {
          "rate": "Numeric birth rate",
          "rateParameter": "Reference to Parameter for birth rate. Format: '//@parameters.X'"
        },
        "constraints": {
          "rate": "Must be float/decimal value",
          "rateParameter": "Must reference existing parameter",
          "targetCompartment": "Reference to compartment using format '//@compartments.X'",
          "fixedRate": "Boolean value, defaults to false"
        },
        "examples": {
          "numeric": "<birthSources name=\"Humans\" rate=\"15129\" targetCompartment=\"//@compartments.0\"/>",
          "parametric": "<birthSources name=\"Humans\" rateParameter=\"//@parameters.0\" targetCompartment=\"//@compartments.0\"/>"
        }
      },
      "deathSinks": {
        "element": "deathSinks",
        "modeling_modes": {
          "numeric": {
            "required_attributes": [
              "name",
              "rate",
              "sourceCompartment"
            ]
          },
          "parametric": {
            "required_attributes": [
              "name",
              "rateParameter",
              "sourceCompartment"
            ]
          }
        },
        "optional_attributes": [
          "sourceStratum"
        ],
        "attributes": {
          "rate": "Numeric death rate",
          "rateParameter": "Reference to Parameter for death rate. Format: '//@parameters.X'"
        },
        "constraints": {
          "rate": "Must be float/decimal value",
          "rateParameter": "Must reference existing parameter",
          "sourceCompartment": "Reference to compartment using format '//@compartments.X'"
        },
        "examples": {
          "numeric": "<deathSinks name=\"Natural_Death_SH\" rate=\"0.001384\" sourceCompartment=\"//@compartments.0\"/>",
          "parametric": "<deathSinks name=\"Natural_Death_SH\" rateParameter=\"//@parameters.5\" sourceCompartment=\"//@compartments.0\"/>"
        }
      },
      "groups": {
        "element": "groups",
        "required_attributes": [
          "name"
        ],
        "optional_attributes": [
          "description"
        ],
        "child_elements": [
          "values"
        ],
        "constraints": {
          "values": "Array of string values representing the group stratification levels"
        }
      },
      "products": {
        "element": "products",
        "required_attributes": [
          "name"
        ],
        "optional_attributes": [
          "description"
        ],
        "child_elements": [
          "groups"
        ],
        "constraints": {
          "groups": "Reference to groups using format '//@groups.X'"
        }
      }
    },
    "compartment_types": {
      "traffic_components": [
        "Onramp",
        "Link",
        "Ordinary Link",
        "Highway Link",
        "Road Segment",
        "Junction",
        "Merge Point"
      ],
      "epidemiological_states": [
        "Susceptible",
        "Exposed",
        "Infectious",
        "Recovered",
        "Deceased",
        "Dead",
        "Removed"
      ],
      "treatment_states": [
        "Vaccinated",
        "Treated",
        "Hospitalized",
        "Quarantined",
        "Isolated"
      ],
      "vector_states": [
        "Susceptible Mosquitoes",
        "Exposed Mosquitoes",
        "Infectious Mosquitoes"
      ],
      "demographic_states": [
        "Recruitment",
        "Birth",
        "Immigration"
      ],
      "terminal_states": [
        "Death",
        "Natural Death",
        "Death due to AIDS",
        "Dead"
      ],
      "severity_modifiers": [
        "Asymptomatic",
        "Symptomatic",
        "Mild",
        "Moderate",
        "Severe",
        "Critical"
      ],
      "location_modifiers": [
        "ICU",
        "Hospital",
        "Home",
        "Community"
      ]
    },
    "secondary_name_patterns": {
      "demographic_groups": [
        "Homosexual Men",
        "Heterosexual Men",
        "Women",
        "Children",
        "Adults",
        "Elderly"
      ],
      "disease_progression": [
        "presymptomatic",
        "mild to moderate",
        "severe",
        "pre-ICU",
        "post-ICU"
      ],
      "intervention_status": [
        "isolated",
        "quarantined",
        "with ART",
        "living with AIDS"
      ],
      "vaccination_status": [
        "Vaccinated",
        "Unvaccinated",
        "First dose",
        "Second dose"
      ],
      "transmission_route": [
        "vector",
        "non-vector",
        "direct",
        "indirect"
      ]
    },
    "flow_patterns": {
      "common_transitions": [
        "Susceptible \u2192 Exposed",
        "Exposed \u2192 Infectious",
        "Infectious \u2192 Recovered",
        "Infectious \u2192 Dead",
        "Recovered \u2192 Susceptible (loss of immunity)",
        "Vaccinated \u2192 Susceptible (loss of vaccine immunity)",
        "All non-terminal compartment \u2192 Natural Death"
      ],
      "flow_types": {
        "RateFlow": {
          "description": "Rate-based transition independent of other compartment populations. Supports both numeric rates and parameter references.",
          "examples": [
            "Exposed \u2192 Infectious (progression)",
            "Infectious \u2192 Recovered (recovery)",
            "Hospital \u2192 ICU (severity progression)",
            "Recovered \u2192 Susceptible (immunity loss)"
          ],
          "use_numeric_when": "Model has hardcoded rates (legacy models, simple demonstrations)",
          "use_parametric_when": "Model needs symbolic equations, parameter reuse, or matching published papers"
        },
        "ContactFlow": {
          "description": "Contact-based transmission dependent on another compartment's population. Models frequency-dependent or density-dependent transmission. Supports both numeric rates and parameter references.",
          "examples": [
            "Susceptible \u2192 Exposed (contact with Infectious)",
            "Susceptible Humans \u2192 Exposed Humans (contact with Infectious Mosquitoes)",
            "Susceptible Mosquitoes \u2192 Exposed Mosquitoes (contact with Infectious Humans)"
          ],
          "parameters": {
            "contactRate or contactRateParameter": "Transmission rate per contact",
            "contactCompartment": "Source compartment for transmission (usually Infectious or vector compartment)",
            "contactParameters": "Legacy parameter specification (deprecated)"
          },
          "use_numeric_when": "Simple models with constant transmission rates",
          "use_parametric_when": "Complex transmission (temperature-dependent, combined rates, symbolic equations)"
        }
      },
      "stratification": {
        "description": "Age-based or demographic stratification using Groups and Products",
        "stratum_specific_rates": "Different rates can be specified for each stratum within a flow. Supports both numeric and parametric approaches.",
        "examples": {
          "age_groups": [
            "0-17",
            "18-64",
            "65+"
          ],
          "demographic_groups": [
            "Male",
            "Female"
          ],
          "risk_groups": [
            "High Risk",
            "Low Risk"
          ],
          "vaccination_groups": [
            "Vaccinated",
            "Unvaccinated"
          ]
        }
      }
    },
    "validation_rules": {
      "Inflow": "Use BirthSource elements for population inflows. The inflow to a compartment which doesn't have a source (like recruitment or birth) should use birthSources rather than regular flows",
      "Outflow": "Use DeathSink elements for population outflows. Natural death and other population losses should use deathSinks rather than flows to non-existent compartments",
      "compartment_uniqueness": "Each (PrimaryName, SecondaryName) pair must be unique",
      "index_consistency": "Target indices must reference existing compartments using format '//@compartments.X'",
      "reference_consistency": "Product references must use format '//@products.X', Group references must use format '//@groups.X', Parameter references must use format '//@parameters.X'",
      "rate_format_numeric": "For numeric modeling: All rates must be numeric values (avoid symbols). Compute a final float numeric value, not an equation.",
      "rate_format_parametric": "For parametric modeling: Set numeric rates to 0.0 and use rateParameter/contactRateParameter references instead.",
      "parameter_uniqueness": "Parameter names must be unique within a model",
      "parameter_references": "All parameter references must point to existing parameters using 0-based indexing",
      "flow_type_consistency": "Use xsi:type=\"seir:RateFlow\" for progression flows, xsi:type=\"seir:ContactFlow\" for transmission flows",
      "stratification_consistency": "Compartments with product attribute should have stratumSpecificRates in their flows where applicable",
      "terminal_compartments": "Terminal compartments (like Deaths, Recovered) typically have no outgoing flows (exception: loss of immunity)",
      "contact_flow_validation": "ContactFlow must specify contactCompartment (usually an Infectious compartment) and either contactRate or contactRateParameter",
      "stratum_validation": "stratumSpecificRates stratum values must match the values defined in the referenced Group",
      "population_balance": "BirthSources and DeathSinks help maintain population balance in the model",
      "description": "Even though description is optional, it would be very helpful if each flow has a brief description explaining the purpose of this flow.",
      "unicode_support": "Parameter names support Unicode including Greek letters (\u03b1, \u03b2, \u03b3, \u03b4, \u03bc, \u03c1, \u03b8, \u03bb) and subscripts (\u2095, \u1d65, \u2081, \u2082)",
      "flow_network_validation": {
        "supply_function_required": "Flow-constrained compartments must have a supplyFunction element",
        "junction_rule_required": "Flow network compartments must set junctionRule=\"PPFIFO\" or \"CUSTOM\"",
        "source_node_attributes": "Source nodes (isSourceNode=true) must specify maxDemand but not maxDensity/criticalDensity/maxThroughput",
        "constrained_node_attributes": "Constrained nodes (isSourceNode=false) must specify maxDensity, criticalDensity, maxThroughput but not maxDemand",
        "split_ratios": "Outgoing flows from network compartments should use RateFlow with parameters representing split ratios/routing coefficients",
        "source_node_input": "Source nodes should have a BirthSource with rateParameter for external input/demand",
        "consistency": "All compartments in a model should be either all flow-network (with supplyFunction) or all disease (without supplyFunction)"
      },
      "trm_validation": {
        "trm_type_validation": "TRM compartments must use type=\"TRM_MAK\", \"TRM_GODUNOV\", or \"TRM_CAPACITATED\"",
        "trm_mak_omega": "TRM_MAK type requires omega attribute to be specified (reaction rate constant \u03c9)",
        "omega_positive": "omega must be positive: \u03c9 > 0",
        "capacity_drop_range": "capacityDropFactor must be in range (0, 1]: 0 < C_i(t) \u2264 1",
        "dual_variable_flag": "enableDualVariable=\"true\" recommended for TRM models to track both \u03c1 and \u03bd = \u03c1_max - \u03c1",
        "trm_base_attributes": "All TRM compartments must specify maxDensity (\u03c1_max), criticalDensity (\u03c1_crit), and maxThroughput (\u03a6_max)",
        "extended_trm_capacity": "Extended TRM models with capacityDropFactor should use values < 1.0 to model reduced capacity scenarios",
        "trm_compatibility": "TRM models are compatible with classical traffic models - can mix TRIANGULAR and TRM types in same network",
        "godunov_equivalence": "TRM_GODUNOV with proper configuration is equivalent to Cell Transmission Model (CTM)"
      }
    },
    "model_extensions": {
      "traffic_networks": {
        "description": "NEW in Version 3.0: Traffic network modeling with supply-demand dynamics and PP/FIFO junction rules",
        "features": [
          "Supply and demand functions for road links (triangular fundamental diagram)",
          "PP/FIFO (Proportional Priority, First-In-First-Out) junction rules",
          "Onramps as unbounded queues with max demand",
          "Ordinary links with capacity constraints",
          "Non-cooperative dynamics for traffic optimization",
          "Backward compatible with disease models"
        ],
        "components": {
          "SupplyFunction": {
            "description": "Defines traffic flow characteristics based on vehicle density",
            "types": {
              "TRIANGULAR": "Standard traffic model (Daganzo 1994, Coogan & Arcak 2015)",
              "LINEAR": "Simplified linear flow model",
              "CUSTOM": "User-defined supply/demand functions",
              "NONE": "No supply function (disease models)"
            },
            "source_nodes": {
              "description": "Entry points with unbounded storage (e.g., onramps in traffic, generators in systems)",
              "demand": "\u03a6^out(\u03c1) = min(max(\u03c1, maxDemand), maxDemand)",
              "supply": "\u03a6^in(\u03c1) = \u221e",
              "attributes": [
                "type",
                "isSourceNode=true",
                "maxDemand"
              ]
            },
            "constrained_nodes": {
              "description": "Internal nodes with capacity constraints (e.g., road segments in traffic, pipes in flow networks)",
              "demand": "\u03a6^out(\u03c1) = min((maxThroughput/criticalDensity)*\u03c1, maxThroughput) for \u03c1 \u2264 criticalDensity; maxThroughput for \u03c1 > criticalDensity",
              "supply": "\u03a6^in(\u03c1) = maxThroughput for \u03c1 \u2264 criticalDensity; (maxThroughput/(maxDensity-criticalDensity))*(maxDensity-\u03c1) for \u03c1 > criticalDensity",
              "attributes": [
                "type",
                "isSourceNode=false",
                "maxDensity",
                "criticalDensity",
                "maxThroughput"
              ]
            }
          },
          "JunctionRule": {
            "description": "Specifies how flows are computed at network junctions",
            "types": {
              "NONE": "No junction constraints (disease models - default)",
              "PPFIFO": "Proportional Priority, First-In-First-Out (traffic networks)",
              "CUSTOM": "User-defined junction rules"
            },
            "ppfifo_rule": {
              "description": "\u03b1_v(\u03c1) = max{\u03b1 \u2208 [0,1] : \u03b1 \u03a3_{j\u2208incoming} \u03b2_{jk} \u03a6^out_j(\u03c1_j) \u2264 \u03a6^in_k(\u03c1_k) \u2200k\u2208outgoing}",
              "computation": "At each time step, compute \u03b1 that satisfies downstream supply constraints",
              "output_flow": "f^out_l(\u03c1) = \u03b1_v(\u03c1) * \u03a6^out_l(\u03c1_l) for all incoming links"
            }
          }
        },
        "dynamics": {
          "disease_models": {
            "description": "Standard rate-based and contact-based flows (unchanged)",
            "equations": [
              "dS/dt = -\u03b2*S*I (Contact flow)",
              "dI/dt = \u03b2*S*I - \u03b3*I (Rate flow)",
              "dR/dt = \u03b3*I (Rate flow)"
            ]
          },
          "traffic_models": {
            "description": "Supply-demand constrained flows with PP/FIFO",
            "equations": [
              "Onramps: d\u03c1_l/dt = d_l - f^out_l(\u03c1)",
              "Ordinary: d\u03c1_l/dt = f^in_l(\u03c1) - f^out_l(\u03c1)"
            ],
            "note": "f^out and f^in computed via PP/FIFO rule with supply-demand constraints"
          }
        },
        "backward_compatibility": {
          "description": "Traffic features are fully optional - disease models work unchanged",
          "disease_models": "Leave supplyFunction absent and junctionRule=NONE (default)",
          "traffic_models": "Add supplyFunction element and set junctionRule=PPFIFO",
          "detection": "Presence of supplyFunction element indicates traffic model"
        },
        "use_cases": {
          "traffic_networks": [
            "Highway traffic flow optimization",
            "Ramp metering control",
            "Congestion analysis",
            "Network throughput optimization"
          ],
          "disease_models": [
            "Epidemiological compartmental models (SEIR, SIR, etc.)",
            "Vector-borne disease transmission",
            "Age-stratified disease models",
            "Multi-pathogen models"
          ]
        },
        "examples": {
          "source_node_traffic": {
            "description": "Source node (onramp) with max demand 3000 vehicles/hour",
            "xml": "<compartments PrimaryName=\"Onramp1\" population=\"0\" junctionRule=\"PPFIFO\">\n  <supplyFunction type=\"TRIANGULAR\" isSourceNode=\"true\" maxDemand=\"3000\"/>\n  <outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.0\" target=\"//@compartments.1\"/>\n</compartments>"
          },
          "constrained_node_traffic": {
            "description": "Constrained node (road link) with capacity constraints",
            "xml": "<compartments PrimaryName=\"Link2\" population=\"37.5\" junctionRule=\"PPFIFO\">\n  <supplyFunction type=\"TRIANGULAR\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\"/>\n  <outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.1\" target=\"//@compartments.2\"/>\n</compartments>"
          },
          "disease_compartment": {
            "description": "Disease compartment (unchanged - no flow network features)",
            "xml": "<compartments PrimaryName=\"Susceptible\" population=\"1000\">\n  <outgoingFlows xsi:type=\"seir:ContactFlow\" contactRateParameter=\"//@parameters.0\" contactCompartment=\"//@compartments.1\" target=\"//@compartments.1\"/>\n</compartments>"
          }
        },
        "references": [
          "Coogan, S., & Arcak, M. (2015). A Compartmental Model for Traffic Networks and its Dynamical Behavior. IEEE Trans. Automatic Control, 60(10), 2698-2703.",
          "Daganzo, C. F. (1994). The Cell Transmission Model: A Dynamic Representation of Highway Traffic. Transportation Research Part B, 28(4), 269-287."
        ]
      },
      "traffic_reaction_model": {
        "description": "NEW in Version 3.1: Traffic Reaction Model (TRM) - A kinetic compartmental approach to road traffic modeling with flux decomposition and dual variable tracking (Pereira et al. 2024)",
        "features": [
          "Flux decomposition: f(\u03c1) = g(\u03c1, \u03c1_max - \u03c1) using dual variables",
          "Dual variable tracking: \u03c1 (vehicle density) and \u03bd (free space density)",
          "Kinetic interpretation: traffic as chemical reactions between compartments",
          "Multiple decomposition types: MAK, Godunov, Capacitated",
          "TRM-CTM equivalence: TRM is equivalent to Cell Transmission Model",
          "Extended TRM: Time-varying capacity drop factors C_i(t)",
          "Network TRM: Multi-lane intersections with incoming/outgoing flows",
          "Fully backward compatible with classical traffic models"
        ],
        "mathematical_foundation": {
          "lwr_model": "\u2202_t \u03c1 + \u2202_x f(\u03c1) = r - s (Lighthill-Whitham-Richards)",
          "flux_decomposition": "f(\u03c1) = g(\u03c1, \u03bd) where \u03bd = \u03c1_max - \u03c1",
          "trm_discretization": "\u03c1\u0307_i = (1/\u0394x)[F(\u03c1_{i-1}, \u03c1_i) - F(\u03c1_i, \u03c1_{i+1}) + R_i - S_i]",
          "numerical_flux": "F(u,v) = g(u, \u03c1_max - v)",
          "kinetic_reactions": "N_{i-1} + S_i \u2192^{\u03ba_{i-1,i}} N_i + S_{i-1}"
        },
        "decomposition_types": {
          "TRM_MAK": {
            "name": "Mass Action Kinetic decomposition",
            "flux_formula": "g(\u03c1, \u03bd) = \u03c9\u03c1\u03bd",
            "parameters": [
              "omega (\u03c9): reaction rate constant"
            ],
            "characteristics": [
              "Inspired by chemical reaction kinetics",
              "Bilinear in \u03c1 and \u03bd",
              "Simple and elegant formulation",
              "Satisfies monotonicity and Lipschitz continuity"
            ],
            "use_cases": [
              "Theoretical analysis of traffic dynamics",
              "Studying kinetic interpretation of traffic flow",
              "Educational purposes"
            ]
          },
          "TRM_GODUNOV": {
            "name": "Godunov decomposition",
            "flux_formula": "g(\u03c1, \u03bd) = min(D(\u03c1), Q(\u03c1_max - \u03bd))",
            "parameters": [
              "D(\u03c1): demand function",
              "Q(\u03bd): supply function"
            ],
            "characteristics": [
              "Equivalent to classical Godunov scheme",
              "Natural supply-demand interpretation",
              "Widely used in traffic simulation",
              "Compatible with CTM and Coogan & Arcak 2015"
            ],
            "use_cases": [
              "Highway traffic simulation",
              "Network traffic optimization",
              "Comparison with classical CTM models",
              "Production traffic management systems"
            ],
            "note": "TRM with Godunov decomposition is equivalent to CTM with specific input capacity"
          },
          "TRM_CAPACITATED": {
            "name": "Capacitated decomposition",
            "flux_formula": "g(\u03c1, \u03bd) = D(\u03c1)Q(\u03c1_max - \u03bd)/f_max",
            "parameters": [
              "D(\u03c1): demand function",
              "Q(\u03bd): supply function",
              "f_max: maximum flux"
            ],
            "characteristics": [
              "Multiplicative coupling of demand and supply",
              "Smooth variation of flux",
              "Alternative to min-based decomposition",
              "Satisfies required mathematical properties"
            ],
            "use_cases": [
              "Smooth traffic flow modeling",
              "Alternative to discontinuous min function",
              "Sensitivity analysis and optimization"
            ]
          }
        },
        "dual_variable_interpretation": {
          "description": "TRM interprets road segments as compartments with two species",
          "vehicle_density": "\u03c1_i(t) = N_i(t)/\u0394x (occupied space per unit length)",
          "free_space_density": "\u03bd_i(t) = S_i(t)/\u0394x = \u03c1_max - \u03c1_i(t)",
          "conservation": "N_i + S_i = \u03c1_max * \u0394x (constant total capacity)",
          "kinetic_reaction": "N_{i-1} + S_i \u2192^{\u03ba_{i-1,i}} N_i + S_{i-1}",
          "reaction_rate": "\u03ba_{i-1,i} = (1/\u0394x) * g(\u03c1_{i-1}, \u03bd_i)",
          "benefits": [
            "Enables application of reaction network theory",
            "Lyapunov stability analysis using entropy functions",
            "Persistence guarantees (no trajectories reach boundary)",
            "Connection to chemical reaction network theory"
          ]
        },
        "extended_trm": {
          "description": "Extended TRM with time-varying capacity drop factors",
          "capacity_drop": "C_i(t) \u2208 (0, 1] models reduced capacity",
          "modified_flux": "g(\u03c1, \u03bd) with \u03bd = C_i(t) * \u03c1_max - \u03c1",
          "applications": [
            "Traffic incidents reducing capacity",
            "Construction zones",
            "Weather conditions (rain, fog, snow)",
            "Variable speed limits",
            "Time-of-day lane usage"
          ],
          "implementation": "Set capacityDropFactor attribute in supplyFunction"
        },
        "network_trm": {
          "description": "Extension to road networks with junctions",
          "junction_dynamics": "\u03c1\u0307_i = (1/\u0394x)[\u03a3_k F_k(incoming) - \u03a3_j F_j(outgoing)]",
          "multi_lane_support": "Multiple incoming and outgoing flows",
          "compatibility": "Works with existing PP/FIFO junction rules",
          "routing": "Uses RateFlow with split ratio parameters"
        },
        "trm_ctm_equivalence": {
          "description": "TRM with Godunov decomposition is equivalent to CTM",
          "equivalence_condition": "Input capacity u^in_i = Q(\u03c1_max - \u03c1_{i-1})",
          "key_insight": "TRM provides kinetic interpretation of CTM",
          "practical_impact": "TRM and CTM produce identical simulation results when properly configured"
        },
        "stability_analysis": {
          "description": "TRM inherits stability properties from reaction network theory",
          "persistence": "All trajectories remain in interior of state space",
          "lyapunov_functions": "Entropy-like functions from chemical kinetics",
          "equilibrium_uniqueness": "Unique equilibrium under feasibility conditions",
          "asymptotic_stability": "Equilibria are asymptotically stable"
        },
        "model_structure": {
          "compartments": {
            "description": "Road segments as compartments with supplyFunction element",
            "required_attributes": [
              "PrimaryName",
              "population (initial density)",
              "junctionRule"
            ],
            "supply_function_type": "TRM_MAK, TRM_GODUNOV, or TRM_CAPACITATED",
            "dual_variable_flag": "enableDualVariable=\"true\" for kinetic interpretation"
          },
          "parameters": {
            "description": "TRM-specific parameters",
            "examples": [
              "\u03c9: reaction rate constant for MAK",
              "\u03c1_max: maximum density (jam density)",
              "\u03c1_crit: critical density",
              "\u03a6_max: maximum flux",
              "C_i(t): capacity drop factor",
              "\u0394x: cell length"
            ]
          },
          "flows": {
            "description": "Use RateFlow for routing between segments",
            "split_ratios": "Parameters represent routing coefficients",
            "junction_rule": "Set junctionRule=\"PPFIFO\" or \"NONE\" for exit cells"
          }
        },
        "examples": {
          "trm_mak_cell": {
            "description": "TRM cell with MAK decomposition",
            "xml": "<compartments PrimaryName=\"Cell1\" population=\"50\" junctionRule=\"PPFIFO\">\n  <supplyFunction type=\"TRM_MAK\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\" omega=\"0.001\" enableDualVariable=\"true\"/>\n  <outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.0\" target=\"//@compartments.1\"/>\n</compartments>"
          },
          "trm_godunov_cell": {
            "description": "TRM cell with Godunov decomposition (CTM-equivalent)",
            "xml": "<compartments PrimaryName=\"Cell2\" population=\"75\" junctionRule=\"PPFIFO\">\n  <supplyFunction type=\"TRM_GODUNOV\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\" enableDualVariable=\"true\"/>\n  <outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.1\" target=\"//@compartments.2\"/>\n</compartments>"
          },
          "extended_trm_cell": {
            "description": "Extended TRM with capacity drop (incident zone)",
            "xml": "<compartments PrimaryName=\"IncidentZone\" population=\"120\" junctionRule=\"PPFIFO\">\n  <supplyFunction type=\"TRM_CAPACITATED\" isSourceNode=\"false\" maxDensity=\"360\" criticalDensity=\"90\" maxThroughput=\"3000\" capacityDropFactor=\"0.6\" enableDualVariable=\"true\"/>\n  <outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.2\" target=\"//@compartments.3\"/>\n</compartments>"
          }
        },
        "backward_compatibility": {
          "description": "TRM features are fully optional - classical traffic models work unchanged",
          "classical_traffic": "Use type=\"TRIANGULAR\" without TRM-specific attributes",
          "trm_models": "Use type=\"TRM_MAK\", \"TRM_GODUNOV\", or \"TRM_CAPACITATED\"",
          "detection": "Equation generator automatically detects TRM types"
        },
        "use_cases": {
          "trm_applications": [
            "Highway traffic simulation with kinetic interpretation",
            "Stability analysis using reaction network theory",
            "Comparison between different flux decompositions",
            "Extended TRM for incident modeling",
            "Network TRM for complex intersections",
            "Educational: understanding traffic as reactions"
          ]
        },
        "references": [
          "Pereira, F. L., Figueiredo, J., & Ramos, C. C. (2024). The Traffic Reaction Model: A kinetic compartmental approach to road traffic modeling. Transportation Research Part B, 179, 102871.",
          "Coogan, S., & Arcak, M. (2015). A Compartmental Model for Traffic Networks and its Dynamical Behavior. IEEE Trans. Automatic Control, 60(10), 2698-2703.",
          "Daganzo, C. F. (1995). The Cell Transmission Model, Part II: Network Traffic. Transportation Research Part B, 29(2), 79-93."
        ]
      },
      "parameter_system": {
        "description": "NEW in Version 2.0: Comprehensive parameter system for symbolic/parametric modeling",
        "features": [
          "Three parameter types: CONSTANT, VARIABLE, EXPRESSION",
          "Parameter references in RateFlow, ContactFlow, BirthSource, DeathSink, StratumSpecificRate",
          "Unicode support for Greek symbols and mathematical notation",
          "Separation of model structure from parameter values",
          "Automatic equation generation with symbolic output"
        ],
        "benefits": [
          "Reusability: Change parameters without modifying model structure",
          "Documentation: Parameters carry descriptions and units",
          "Professional output: Equations match published papers (\u03b2\u2081, \u03bc\u2095 instead of 0.9969, 0.001384)",
          "Environmental dependencies: Temperature, rainfall, intervention levels",
          "Backward compatibility: Existing numeric models continue working"
        ]
      },
      "stratification_system": {
        "description": "Stratification system using Groups and Products",
        "Groups": "Define demographic or risk categories (e.g., age groups, gender, risk levels)",
        "Products": "Combine multiple groups for complex stratification",
        "compartment_stratification": "Compartments can reference a Product to be automatically stratified"
      },
      "flow_enhancements": {
        "abstract_flows": "Flow is now abstract with RateFlow and ContactFlow as concrete implementations",
        "stratum_specific_rates": "Both RateFlow and ContactFlow support different rates for different strata (numeric or parametric)",
        "contact_modeling": "ContactFlow enables sophisticated transmission modeling with contact compartments",
        "parameter_references": "All flows can reference parameters instead of using numeric attributes"
      },
      "population_dynamics": {
        "BirthSource": "Models population inflow (births, immigration, recruitment). Supports numeric rates and parameter references.",
        "DeathSink": "Models population outflow (deaths, emigration). Supports numeric rates and parameter references.",
        "global_rates": "SEIRModel can specify totalPopulation, globalBirthRate, globalDeathRate"
      },
      "diagram_support": {
        "description": "Sirius diagrams intelligently display parameter names or numeric values",
        "implementation": "AQL expressions check for parameter references using ->notEmpty(), displaying parameter names when available or numeric values otherwise",
        "greek_symbols": "Full Unicode support in diagram labels for professional mathematical notation"
      },
      "equation_generation": {
        "description": "SEIREquationGenerator produces symbolic equations for parametric models",
        "features": [
          "Parameter names in equations (\u03b3\u2095, \u03c1\u2095, \u03b2\u2081) instead of numbers (0.120342, 0.001995, 0.9969)",
          "EXPRESSION parameters expanded in equations",
          "Backward compatible with numeric models",
          "Output matches mathematical notation in published papers"
        ]
      }
    },
    "modeling_approaches": {
      "numeric_modeling": {
        "description": "Traditional approach using hardcoded numeric values",
        "when_to_use": [
          "Legacy models",
          "Simple demonstrations",
          "Quick prototypes",
          "Models without parameter reuse"
        ],
        "example_snippet": "<outgoingFlows xsi:type=\"seir:RateFlow\" rate=\"0.120342\" target=\"//@compartments.3\"/>",
        "limitations": [
          "Equations show numbers instead of symbolic names",
          "Hard to track which number represents which parameter",
          "Changing a parameter value requires finding all uses",
          "Doesn't match mathematical notation in papers"
        ]
      },
      "parametric_modeling": {
        "description": "NEW approach using named parameters with references",
        "when_to_use": [
          "Published models needing to match paper equations",
          "Models with environmental dependencies (temperature, rainfall)",
          "Models requiring parameter reuse",
          "Complex models with many parameters",
          "Models needing professional mathematical notation"
        ],
        "example_snippet": "<parameters name=\"\u03b3\u2095\" expression=\"0.120342\" description=\"Recovery rate Ih to Rh\" unit=\"1/time\"/>\n<outgoingFlows xsi:type=\"seir:RateFlow\" rateParameter=\"//@parameters.9\" target=\"//@compartments.3\"/>",
        "benefits": [
          "Equations show symbolic names (\u03b3\u2095, \u03bc\u2095, \u03b2\u2081)",
          "Parameters documented with descriptions and units",
          "Easy to change parameter values in one place",
          "Supports Greek symbols and professional notation",
          "Matches published papers exactly",
          "Enables sensitivity analysis and parameter sweeps"
        ]
      },
      "mixed_modeling": {
        "description": "Combination of numeric and parametric approaches in the same model",
        "when_to_use": "Transitioning from numeric to parametric, or when only some parameters need symbolic representation",
        "priority": "Parameter references take precedence over numeric attributes when both are present"
      }
    },
    "best_practices": {
      "model_type_selection": {
        "disease_models": "Use standard compartments with rate-based and contact-based flows. Do not add supplyFunction or set junctionRule.",
        "traffic_models": "Use compartments with supplyFunction element and junctionRule=\"PPFIFO\". Use parameters for split ratios (\u03b2) and supply/demand function parameters.",
        "mixed_models": "Not recommended - keep disease and traffic models separate for clarity"
      },
      "flow_network_design": [
        "Define source nodes with isSourceNode=true and maxDemand parameter",
        "Define constrained nodes with isSourceNode=false and maxDensity, criticalDensity, maxThroughput parameters",
        "Use RateFlow with routing coefficient parameters (e.g., \u03b2_{lk} for split ratios in traffic) for routing",
        "Use BirthSource for source node external input/demand (e.g., d_l in traffic)",
        "Set junctionRule=\"PPFIFO\" for all flow network compartments",
        "Use Parameters for all network-specific values (allows easy modification and sensitivity analysis)"
      ],
      "parameter_naming": [
        "Disease models: Use Greek symbols (\u03b2 for transmission, \u03bc for mortality, \u03b3 for recovery, \u03c1 for progression)",
        "Traffic models: Use standard notation (\u03c1 for density, \u03a6 for flow, \u03b2 for split ratio)",
        "Use subscripts to distinguish entities (\u03bc\u2095 for human, \u03bc\u1d65 for vector, \u03b2_{12} for split ratio link 1\u21922)",
        "Use function notation for dependencies: a(T) for temperature-dependent, \u03b8\u1d65(T,R) for temperature and rainfall",
        "Keep names concise but meaningful"
      ],
      "parameter_organization": [
        "Define CONSTANT parameters first",
        "Then VARIABLE parameters (environmental inputs)",
        "Then EXPRESSION parameters (computed from others)",
        "Group related parameters together",
        "Always provide descriptions and units"
      ],
      "model_structure": [
        "Use BirthSource for all population inflows (not flows from nowhere)",
        "Use DeathSink for all population outflows (not flows to nowhere)",
        "Use RateFlow for progression, recovery, immunity loss",
        "Use ContactFlow for transmission and infection",
        "Always provide flow descriptions"
      ],
      "parametric_vs_numeric": [
        "For new models: Use parametric approach for better maintainability",
        "For existing models: Can keep numeric or migrate to parametric",
        "When using parametric: Set numeric attributes to 0.0",
        "When unsure: Start parametric, easier to maintain long-term"
      ]
    },
    "unicode_reference": {
      "greek_letters": {
        "lowercase": "\u03b1 (alpha), \u03b2 (beta), \u03b3 (gamma), \u03b4 (delta), \u03b5 (epsilon), \u03b8 (theta), \u03bb (lambda), \u03bc (mu), \u03c1 (rho), \u03c3 (sigma), \u03c6 (phi), \u03c9 (omega)",
        "uppercase": "\u0393 (Gamma), \u0394 (Delta), \u0398 (Theta), \u039b (Lambda), \u03a3 (Sigma), \u03a6 (Phi), \u03a9 (Omega)"
      },
      "subscripts": "\u2080 \u2081 \u2082 \u2083 \u2084 \u2085 \u2086 \u2087 \u2088 \u2089 \u2090 \u2091 \u2095 \u1d62 \u2c7c \u2096 \u2097 \u2098 \u2099 \u2092 \u209a \u1d63 \u209b \u209c \u1d64 \u1d65 \u2093",
      "superscripts": "\u2070 \u00b9 \u00b2 \u00b3 \u2074 \u2075 \u2076 \u2077 \u2078 \u2079 \u207a \u207b \u207c \u207d \u207e",
      "common_combinations": {
        "\u03bc\u2095": "mu_h (human mortality)",
        "\u03bc\u1d65": "mu_v (vector mortality)",
        "\u03b2\u2081": "beta1 (transmission probability 1)",
        "\u03b2\u2082": "beta2 (transmission probability 2)",
        "\u03b3\u2095": "gamma_h (human recovery rate)",
        "\u03c1\u2095": "rho_h (human progression rate)",
        "\u03b8\u1d65": "theta_v (vector recruitment)",
        "\u03b1\u2095": "alpha_h (human recruitment)",
        "\u039b\u2098": "Lambda_m (mosquito progression)"
      }
    }
  }
}
********************************************************************************
User Input:
COVID-19 MODEL WITH AGE STRATIFICATION 
 MODEL TYPE: Parametric (use named parameters with Greek symbols) 
 COMPARTMENTS: 
 Create 15 base compartments, each stratified by AgeGroup: 
 - Susceptible (no secondary name) 
 - Exposed (no secondary name) 
 - Exposed, quarantined (secondary name: "quarantined") 
 - Infectious, presymptomatic (secondary name: "presymptomatic") 
 - Infectious, presymptomatic isolated (secondary name: "presymptomatic, isolated") 
 - Infectious, mild to moderate (secondary name: "mild to moderate") 
 - Infectious, mild to moderate isolated (secondary name: "mild to moderate, isolated") 
 - Infectious, severe (secondary name: "severe") 
 - Infectious, severe isolated (secondary name: "severe, isolated") 
 - Isolated (no secondary name) 
 - Admitted to hospital (no secondary name) 
 - ICU (no secondary name) 
 - Admitted to hospital, post-ICU (secondary name: "post-ICU") 
 - Recovered (no secondary name) 
 - COVID Deaths (no secondary name) 
 STRATIFICATION: 
 Group name: AgeGroup 
 Group values: 0-17, 18-64, 65+ 
 Product name: AgeStratification 
 Product description: Age-based compartment stratification 
 All 15 compartments use this product for stratification. 
 INITIAL POPULATIONS: 
 Susceptible: 0-17=4900000, 18-64=8800000, 65+=1000000 
 Exposed: 0-17=1667, 18-64=3000, 65+=333 
 Exposed (quarantined): 0-17=333, 18-64=600, 65+=67 
 Infectious (presymptomatic): 0-17=1000, 18-64=1800, 65+=200 
 Infectious (presymptomatic isolated): 0-17=333, 18-64=600, 65+=67 
 Infectious (mild to moderate): 0-17=2667, 18-64=4800, 65+=533 
 Infectious (mild to moderate isolated): 0-17=1333, 18-64=2400, 65+=267 
 Infectious (severe): 0-17=667, 18-64=1200, 65+=133 
 Infectious (severe isolated): 0-17=267, 18-64=480, 65+=53 
 Isolated: 0-17=2000, 18-64=3600, 65+=400 
 Admitted to hospital: 0-17=500, 18-64=900, 65+=100 
 ICU: 0-17=133, 18-64=240, 65+=27 
 Admitted to hospital (post-ICU): 0-17=67, 18-64=120, 65+=13 
 Recovered: 0-17=16667, 18-64=30000, 65+=3333 
 COVID Deaths: 0-17=33, 18-64=60, 65+=7 
 PARAMETERS: 
 Create these parameters in order with exact names, expressions, descriptions, and units: 
  | CONSTANT | 0.00001 | Base transmission rate | 1/time 
 q | CONSTANT | 0.0 | Quarantine rate for exposed | 1/time 
  | CONSTANT | 0.4 | Incubation rate (progression to infectious) | 1/time 
 _q | CONSTANT | 0.4 | Incubation rate for quarantined | 1/time 
 _p | CONSTANT | 1.0 | Rate of symptom onset | 1/time 
 p_severe | CONSTANT | 0.15 | Probability of developing severe symptoms | dimensionless 
 _m | CONSTANT | 0.167 | Recovery rate for mild cases | 1/time 
 _m | CONSTANT | 0.5 | Isolation rate for mild cases | 1/time 
 _s | CONSTANT | 0.167 | Hospitalization rate for severe cases | 1/time 
 _iso | CONSTANT | 0.0 | Rate of movement to isolated state | 1/time 
 _iso | CONSTANT | 0.167 | Recovery rate from isolation | 1/time 
 _h_r | CONSTANT | 0.74 | Recovery rate from pre-ICU hospital | 1/time 
 _h_icu | CONSTANT | 0.26 | Progression rate to ICU | 1/time 
 _icu_post | CONSTANT | 0.6 | Improvement rate ICU to post-ICU | 1/time 
 _icu | CONSTANT | 0.4 | Mortality rate in ICU | 1/time 
 _post | CONSTANT | 0.048 | Recovery rate post-ICU | 1/time 
 N | CONSTANT | 14800000 | Total population | individuals 
 birth_rate | CONSTANT | 3.0E-5 | Population birth rate | 1/time 
 (1-q) | EXPRESSION | (1 - q) | Non-quarantine rate | dimensionless 
 (1-p_severe) | EXPRESSION | (1 - p_severe) | Probability of mild symptoms | dimensionless 
 (1-q)* | EXPRESSION | (1 - q) *  | Non-quarantine incubation rate | 1/time 
 _p*(1-p_severe) | EXPRESSION | _p * (1 - p_severe) | Mild symptom development rate | 1/time 
 _p*p_severe | EXPRESSION | _p * p_severe | Severe symptom development rate | 1/time 
 FLOWS: 
 All flows reference parameters not numeric values. 
 Flow 1: Susceptible to Exposed 
 Type: ContactFlow 
 Source: Susceptible compartment 
 Target: Exposed compartment 
 Description: Infection through contact with infectious individuals 
 Contact compartment: Infectious (presymptomatic) compartment 
 Contact rate parameter:  
 Stratum-specific contact rates: 
   0-17: use  parameter multiplied by 0.7 (children lower susceptibility) 
   18-64: use  parameter multiplied by 1.0 (standard susceptibility) 
   65+: use  parameter multiplied by 1.3 (elderly higher susceptibility) 
 Note: This simplifies the multi-compartment transmission from original model. Contact with presymptomatic represents overall infectious contact. 
 Flow 2: Exposed to Exposed (quarantined) 
 Type: RateFlow 
 Source: Exposed compartment 
 Target: Exposed (quarantined) compartment 
 Description: Quarantine of exposed individuals 
 Rate parameter: q 
 Stratum-specific: Same rate for all strata 
 Flow 3: Exposed to Infectious (presymptomatic) 
 Type: RateFlow 
 Source: Exposed compartment 
 Target: Infectious (presymptomatic) compartment 
 Description: Progression to presymptomatic infectious 
 Rate parameter: (1-q)* 
 Stratum-specific rates: 
   0-17: use (1-q)* parameter multiplied by 1.25 (faster progression) 
   18-64: use (1-q)* parameter multiplied by 1.0 (standard progression) 
   65+: use (1-q)* parameter multiplied by 0.75 (slower progression) 
 Flow 4: Exposed (quarantined) to Infectious (presymptomatic isolated) 
 Type: RateFlow 
 Source: Exposed (quarantined) compartment 
 Target: Infectious (presymptomatic isolated) compartment 
 Description: Progression of quarantined to isolated presymptomatic 
 Rate parameter: _q 
 Stratum-specific rates: 
   0-17: use _q parameter multiplied by 1.25 
   18-64: use _q parameter multiplied by 1.0 
   65+: use _q parameter multiplied by 0.75 
 Flow 5: Infectious (presymptomatic) to Infectious (mild to moderate) 
 Type: RateFlow 
 Source: Infectious (presymptomatic) compartment 
 Target: Infectious (mild to moderate) compartment 
 Description: Development of mild to moderate symptoms 
 Rate parameter: _p*(1-p_severe) 
 Stratum-specific rates: 
   0-17: use _p*(1-p_severe) parameter multiplied by 1.15 (99% mild for children) 
   18-64: use _p*(1-p_severe) parameter multiplied by 1.0 (85% mild for adults) 
   65+: use _p*(1-p_severe) parameter multiplied by 0.76 (65% mild for elderly) 
 Flow 6: Infectious (presymptomatic) to Infectious (severe) 
 Type: RateFlow 
 Source: Infectious (presymptomatic) compartment 
 Target: Infectious (severe) compartment 
 Description: Development of severe symptoms 
 Rate parameter: _p*p_severe 
 Stratum-specific rates: 
   0-17: use _p*p_severe parameter multiplied by 0.07 (1% severe for children) 
   18-64: use _p*p_severe parameter multiplied by 1.0 (15% severe for adults) 
   65+: use _p*p_severe parameter multiplied by 2.33 (35% severe for elderly) 
 Flow 7: Infectious (presymptomatic isolated) to Infectious (mild to moderate isolated) 
 Type: RateFlow 
 Source: Infectious (presymptomatic isolated) compartment 
 Target: Infectious (mild to moderate isolated) compartment 
 Description: Development of mild symptoms in isolated 
 Rate parameter: _p*(1-p_severe) 
 Stratum-specific rates: 
   0-17: use _p*(1-p_severe) parameter multiplied by 1.15 
   18-64: use _p*(1-p_severe) parameter multiplied by 1.0 
   65+: use _p*(1-p_severe) parameter multiplied by 0.76 
 Flow 8: Infectious (presymptomatic isolated) to Infectious (severe isolated) 
 Type: RateFlow 
 Source: Infectious (presymptomatic isolated) compartment 
 Target: Infectious (severe isolated) compartment 
 Description: Development of severe symptoms in isolated 
 Rate parameter: _p*p_severe 
 Stratum-specific rates: 
   0-17: use _p*p_severe parameter multiplied by 0.07 
   18-64: use _p*p_severe parameter multiplied by 1.0 
   65+: use _p*p_severe parameter multiplied by 2.33 
 Flow 9: Infectious (mild to moderate) to Isolated 
 Type: RateFlow 
 Source: Infectious (mild to moderate) compartment 
 Target: Isolated compartment 
 Description: Detection and isolation of mild cases 
 Rate parameter: _m 
 Stratum-specific: Same rate for all strata 
 Flow 10: Infectious (mild to moderate) to Recovered 
 Type: RateFlow 
 Source: Infectious (mild to moderate) compartment 
 Target: Recovered compartment 
 Description: Recovery from mild symptoms without isolation 
 Rate parameter: _m 
 Stratum-specific: Same rate for all strata 
 Flow 11: Infectious (mild to moderate isolated) to Isolated 
 Type: RateFlow 
 Source: Infectious (mild to moderate isolated) compartment 
 Target: Isolated compartment 
 Description: Transfer to central isolation facility 
 Rate parameter: _iso 
 Stratum-specific: Same rate for all strata 
 Flow 12: Infectious (severe) to Admitted to hospital 
 Type: RateFlow 
 Source: Infectious (severe) compartment 
 Target: Admitted to hospital compartment 
 Description: Hospitalization of severe cases 
 Rate parameter: _s 
 Stratum-specific: Same rate for all strata 
 Flow 13: Infectious (severe isolated) to Admitted to hospital 
 Type: RateFlow 
 Source: Infectious (severe isolated) compartment 
 Target: Admitted to hospital compartment 
 Description: Hospitalization of isolated severe cases 
 Rate parameter: _s 
 Stratum-specific: Same rate for all strata 
 Flow 14: Isolated to Recovered 
 Type: RateFlow 
 Source: Isolated compartment 
 Target: Recovered compartment 
 Description: Recovery from isolation 
 Rate parameter: _iso 
 Stratum-specific: Same rate for all strata 
 Flow 15: Admitted to hospital to Recovered 
 Type: RateFlow 
 Source: Admitted to hospital compartment 
 Target: Recovered compartment 
 Description: Recovery from hospital (pre-ICU) 
 Rate parameter: _h_r 
 Stratum-specific rates: 
   0-17: use _h_r parameter multiplied by 1.22 (90% recovery for children) 
   18-64: use _h_r parameter multiplied by 1.08 (80% recovery for adults) 
   65+: use _h_r parameter multiplied by 0.81 (60% recovery for elderly) 
 Flow 16: Admitted to hospital to ICU 
 Type: RateFlow 
 Source: Admitted to hospital compartment 
 Target: ICU compartment 
 Description: Admission to ICU 
 Rate parameter: _h_icu 
 Stratum-specific: Same rate for all strata (26% for all ages) 
 Flow 17: ICU to Admitted to hospital (post-ICU) 
 Type: RateFlow 
 Source: ICU compartment 
 Target: Admitted to hospital (post-ICU) compartment 
 Description: Improvement and transfer to post-ICU care 
 Rate parameter: _icu_post 
 Stratum-specific rates: 
   0-17: use _icu_post parameter multiplied by 1.42 (85% improvement for children) 
   18-64: use _icu_post parameter multiplied by 1.17 (70% improvement for adults) 
   65+: use _icu_post parameter multiplied by 0.75 (45% improvement for elderly) 
 Flow 18: ICU to COVID Deaths 
 Type: RateFlow 
 Source: ICU compartment 
 Target: COVID Deaths compartment 
 Description: Death from COVID-19 in ICU 
 Rate parameter: _icu 
 Stratum-specific rates: 
   0-17: use _icu parameter multiplied by 0.0 (0% mortality for children) 
   18-64: use _icu parameter multiplied by 0.5 (20% mortality for adults) 
   65+: use _icu parameter multiplied by 1.45 (58% mortality for elderly) 
 Flow 19: Admitted to hospital (post-ICU) to Recovered 
 Type: RateFlow 
 Source: Admitted to hospital (post-ICU) compartment 
 Target: Recovered compartment 
 Description: Recovery from post-ICU hospital care 
 Rate parameter: _post 
 Stratum-specific: Same rate for all strata 
 BIRTH SOURCES: 
 Birth 1: 
 Name: Population Birth 
 Rate parameter: birth_rate 
 Target: Susceptible compartment 
 Target stratum: 0-17 
 DEATH SINKS: 
 No natural death sinks modeled. Only COVID deaths occur through Flow 18 (ICU to COVID Deaths compartment).
********************************************************************************
LLM1 RESPONSE:
```xml
<!--
Reasoning:
- Creating 15 base compartments each stratified by AgeStratification product referencing AgeGroup group (3 values).
- Product AgeStratification is applied to all compartments.
- Initial populations split across three age groups.
- Creating 23 parameters (16 CONSTANT, 7 EXPRESSION) with exactly specified properties.
- Implementing 19 flows and 1 birth source, no death sinks.
- Using stratum-specific rates appropriately as specified.
-->
<?xml version="1.0" encoding="UTF-8"?>
<seir:SEIRModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:seir="http://example.com/seirmodel">
  <products name="AgeStratification" description="Age-based compartment stratification">
    <groups name="AgeGroup">
      <values>0-17</values>
      <values>18-64</values>
      <values>65+</values>
    </groups>
  </products>
  <parameters name="" expression="0.00001" description="Base transmission rate" unit="1/time"/>
  <parameters name="q" expression="0.0" description="Quarantine rate for exposed" unit="1/time"/>
  <parameters name="" expression="0.4" description="Incubation rate (progression to infectious)" unit="1/time"/>
  <parameters name="_q" expression="0.4" description="Incubation rate for quarantined" unit="1/time"/>
  <parameters name="_p" expression="1.0" description="Rate of symptom onset" unit="1/time"/>
  <parameters name="p_severe" expression="0.15" description="Probability of developing severe symptoms" unit="dimensionless"/>
  <parameters name="_m" expression="0.167" description="Recovery rate for mild cases" unit="1/time"/>
  <parameters name="_m" expression="0.5" description="Isolation rate for mild cases" unit="1/time"/>
  <parameters name="_s" expression="0.167" description="Hospitalization rate for severe cases" unit="1/time"/>
  <parameters name="_iso" expression="0.0" description="Rate of movement to isolated state" unit="1/time"/>
  <parameters name="_iso" expression="0.167" description="Recovery rate from isolation" unit="1/time"/>
  <parameters name="_h_r" expression="0.74" description="Recovery rate from pre-ICU hospital" unit="1/time"/>
  <parameters name="_h_icu" expression="0.26" description="Progression rate to ICU" unit="1/time"/>
  <parameters name="_icu_post" expression="0.6" description="Improvement rate ICU to post-ICU" unit="1/time"/>
  <parameters name="_icu" expression="0.4" description="Mortality rate in ICU" unit="1/time"/>
  <parameters name="_post" expression="0.048" description="Recovery rate post-ICU" unit="1/time"/>
  <parameters name="N" expression="14800000" description="Total population" unit="individuals"/>
  <parameters name="birth_rate" expression="3.0E-5" description="Population birth rate" unit="1/time"/>
  <parameters name="(1-q)" type="EXPRESSION" expression="(1 - q)" description="Non-quarantine rate" unit="dimensionless"/>
  <parameters name="(1-p_severe)" type="EXPRESSION" expression="(1 - p_severe)" description="Probability of mild symptoms" unit="dimensionless"/>
  <parameters name="(1-q)*" type="EXPRESSION" expression="(1 - q) * " description="Non-quarantine incubation rate" unit="1/time"/>
  <parameters name="_p*(1-p_severe)" type="EXPRESSION" expression="_p * (1 - p_severe)" description="Mild symptom development rate" unit="1/time"/>
  <parameters name="_p*p_severe" type="EXPRESSION" expression="_p * p_severe" description="Severe symptom development rate" unit="1/time"/>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="4900000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:ContactFlow" contactRateParameter="//@parameters.0" contactCompartment="//@compartments.3" target="//@compartments.1" description="Infection through contact with infectious individuals">
      <stratumSpecificRates stratum="0-17" multiplier="0.7"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="1.3"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="8800000" SecondaryName="18-64"/>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="1000000" SecondaryName="65+"/>
  <compartments PrimaryName="Exposed" product="//@products.0" population="1667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.1" target="//@compartments.2" description="Quarantine of exposed individuals"/>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.20" target="//@compartments.3" description="Progression to presymptomatic infectious">
      <stratumSpecificRates stratum="0-17" multiplier="1.25"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Exposed" product="//@products.0" population="3000" SecondaryName="18-64"/>
  <compartments PrimaryName="Exposed" product="//@products.0" population="333" SecondaryName="65+"/>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.3" target="//@compartments.4" description="Progression of quarantined to isolated presymptomatic">
      <stratumSpecificRates stratum="0-17" multiplier="1.25"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="600" SecondaryName="18-64"/>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="67" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="1000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.23" target="//@compartments.6" description="Development of mild to moderate symptoms">
      <stratumSpecificRates stratum="0-17" multiplier="1.15"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.76"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.24" target="//@compartments.8" description="Development of severe symptoms">
      <stratumSpecificRates stratum="0-17" multiplier="0.07"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="2.33"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="1800" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="200" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.23" target="//@compartments.7" description="Development of mild symptoms in isolated">
      <stratumSpecificRates stratum="0-17" multiplier="1.15"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.76"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.24" target="//@compartments.9" description="Development of severe symptoms in isolated">
      <stratumSpecificRates stratum="0-17" multiplier="0.07"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="2.33"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="600" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="67" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="2667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.7" target="//@compartments.10" description="Detection and isolation of mild cases"/>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.6" target="//@compartments.13" description="Recovery from mild symptoms without isolation"/>
  </compartments>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="4800" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="533" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="1333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.9" target="//@compartments.10" description="Transfer to central isolation facility"/>
  </compartments>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="2400" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="267" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.8" target="//@compartments.11" description="Hospitalization of severe cases"/>
  </compartments>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="1200" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="133" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="267" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.8" target="//@compartments.11" description="Hospitalization of isolated severe cases"/>
  </compartments>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="480" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="53" SecondaryName="65+"/>
  <compartments PrimaryName="Isolated" product="//@products.0" population="2000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.10" target="//@compartments.13" description="Recovery from isolation"/>
  </compartments>
  <compartments PrimaryName="Isolated" product="//@products.0" population="3600" SecondaryName="18-64"/>
  <compartments PrimaryName="Isolated" product="//@products.0" population="400" SecondaryName="65+"/>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="500" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.11" target="//@compartments.13" description="Recovery from hospital (pre-ICU)">
      <stratumSpecificRates stratum="0-17" multiplier="1.22"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.08"/>
      <stratumSpecificRates stratum="65+" multiplier="0.81"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.12" target="//@compartments.12" description="Admission to ICU"/>
  </compartments>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="900" SecondaryName="18-64"/>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="100" SecondaryName="65+"/>
  <compartments PrimaryName="ICU" product="//@products.0" population="133" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.13" target="//@compartments.14" description="Improvement and transfer to post-ICU care">
      <stratumSpecificRates stratum="0-17" multiplier="1.42"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.17"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.14" target="//@compartments.15" description="Death from COVID-19 in ICU">
      <stratumSpecificRates stratum="0-17" multiplier="0.0"/>
      <stratumSpecificRates stratum="18-64" multiplier="0.5"/>
      <stratumSpecificRates stratum="65+" multiplier="1.45"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="ICU" product="//@products.0" population="240" SecondaryName="18-64"/>
  <compartments PrimaryName="ICU" product="//@products.0" population="27" SecondaryName="65+"/>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="67" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.15" target="//@compartments.13" description="Recovery from post-ICU hospital care"/>
  </compartments>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="120" SecondaryName="18-64"/>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="13" SecondaryName="65+"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="16667" SecondaryName="0-17"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="30000" SecondaryName="18-64"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="3333" SecondaryName="65+"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="33" SecondaryName="0-17"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="60" SecondaryName="18-64"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="7" SecondaryName="65+"/>
  <birthSources name="Population Birth" rateParameter="//@parameters.17" targetCompartment="//@compartments.0" targetStratum="0-17"/>
</seir:SEIRModel>
```
********************************************************************************

********************************************************************************
LLM2 PROMPT:
You are an expert at mapping epidemiological parameter values into XML compartmental model files.

Your task is to take a structurally correct XML file with placeholder values and fill in the actual numeric values from the user input, following the v3 metamodel.

**Your Job**
- For PARAMETRIC models: Parameter values are already defined in <parameters> elements. You do NOT need to modify anything. The XML is complete.
- For NUMERIC models: Find all [[rate_missing]] placeholders in numeric attributes (e.g., rate, contactRate, or equivalent). Replace each with the corresponding numeric value from the user input.

**Mapping Rules - DO NOT CALCULATE**
- Your job is ONLY to map values from user input to XML placeholders.
- If user input says "rate = 0.3333", write 0.3333 in the XML.
- If user input references a named parameter, copy its numeric value exactly.
- DO NOT perform arithmetic operations.
- DO NOT evaluate expressions.
- DO NOT compute formulas.

**Handling Missing Values**
- If a required value is not provided in user input, replace [[rate_missing]] with 0.0 and add an XML comment explaining what was missing.
- Never leave [[rate_missing]] in the output.
- Never invent values.

**Stratification**
- If a flow has stratum-specific numeric values, map the value for each stratum separately.
- If user input indicates a stratum has rate 0, write 0.0.
- Ensure stratum identifiers match exactly.

**Reasoning**
- For each modification, add an XML comment above explaining:
  * Which placeholder you're replacing
  * What value you're using from user input
  * Which compartment/flow/stratum this applies to
  * If you're inserting 0.0 due to missing data, explain what was missing

**Output Format**
- Complete, valid XML with all placeholders replaced
- Include reasoning as XML comments before each modified section
- No markdown formatting, no code fences, no explanatory text outside XML comments
- Full precision for all numeric values (do not round)
- The output must be directly parseable as XML
********************************************************************************
USER INPUT:
COVID-19 MODEL WITH AGE STRATIFICATION 
 MODEL TYPE: Parametric (use named parameters with Greek symbols) 
 COMPARTMENTS: 
 Create 15 base compartments, each stratified by AgeGroup: 
 - Susceptible (no secondary name) 
 - Exposed (no secondary name) 
 - Exposed, quarantined (secondary name: "quarantined") 
 - Infectious, presymptomatic (secondary name: "presymptomatic") 
 - Infectious, presymptomatic isolated (secondary name: "presymptomatic, isolated") 
 - Infectious, mild to moderate (secondary name: "mild to moderate") 
 - Infectious, mild to moderate isolated (secondary name: "mild to moderate, isolated") 
 - Infectious, severe (secondary name: "severe") 
 - Infectious, severe isolated (secondary name: "severe, isolated") 
 - Isolated (no secondary name) 
 - Admitted to hospital (no secondary name) 
 - ICU (no secondary name) 
 - Admitted to hospital, post-ICU (secondary name: "post-ICU") 
 - Recovered (no secondary name) 
 - COVID Deaths (no secondary name) 
 STRATIFICATION: 
 Group name: AgeGroup 
 Group values: 0-17, 18-64, 65+ 
 Product name: AgeStratification 
 Product description: Age-based compartment stratification 
 All 15 compartments use this product for stratification. 
 INITIAL POPULATIONS: 
 Susceptible: 0-17=4900000, 18-64=8800000, 65+=1000000 
 Exposed: 0-17=1667, 18-64=3000, 65+=333 
 Exposed (quarantined): 0-17=333, 18-64=600, 65+=67 
 Infectious (presymptomatic): 0-17=1000, 18-64=1800, 65+=200 
 Infectious (presymptomatic isolated): 0-17=333, 18-64=600, 65+=67 
 Infectious (mild to moderate): 0-17=2667, 18-64=4800, 65+=533 
 Infectious (mild to moderate isolated): 0-17=1333, 18-64=2400, 65+=267 
 Infectious (severe): 0-17=667, 18-64=1200, 65+=133 
 Infectious (severe isolated): 0-17=267, 18-64=480, 65+=53 
 Isolated: 0-17=2000, 18-64=3600, 65+=400 
 Admitted to hospital: 0-17=500, 18-64=900, 65+=100 
 ICU: 0-17=133, 18-64=240, 65+=27 
 Admitted to hospital (post-ICU): 0-17=67, 18-64=120, 65+=13 
 Recovered: 0-17=16667, 18-64=30000, 65+=3333 
 COVID Deaths: 0-17=33, 18-64=60, 65+=7 
 PARAMETERS: 
 Create these parameters in order with exact names, expressions, descriptions, and units: 
  | CONSTANT | 0.00001 | Base transmission rate | 1/time 
 q | CONSTANT | 0.0 | Quarantine rate for exposed | 1/time 
  | CONSTANT | 0.4 | Incubation rate (progression to infectious) | 1/time 
 _q | CONSTANT | 0.4 | Incubation rate for quarantined | 1/time 
 _p | CONSTANT | 1.0 | Rate of symptom onset | 1/time 
 p_severe | CONSTANT | 0.15 | Probability of developing severe symptoms | dimensionless 
 _m | CONSTANT | 0.167 | Recovery rate for mild cases | 1/time 
 _m | CONSTANT | 0.5 | Isolation rate for mild cases | 1/time 
 _s | CONSTANT | 0.167 | Hospitalization rate for severe cases | 1/time 
 _iso | CONSTANT | 0.0 | Rate of movement to isolated state | 1/time 
 _iso | CONSTANT | 0.167 | Recovery rate from isolation | 1/time 
 _h_r | CONSTANT | 0.74 | Recovery rate from pre-ICU hospital | 1/time 
 _h_icu | CONSTANT | 0.26 | Progression rate to ICU | 1/time 
 _icu_post | CONSTANT | 0.6 | Improvement rate ICU to post-ICU | 1/time 
 _icu | CONSTANT | 0.4 | Mortality rate in ICU | 1/time 
 _post | CONSTANT | 0.048 | Recovery rate post-ICU | 1/time 
 N | CONSTANT | 14800000 | Total population | individuals 
 birth_rate | CONSTANT | 3.0E-5 | Population birth rate | 1/time 
 (1-q) | EXPRESSION | (1 - q) | Non-quarantine rate | dimensionless 
 (1-p_severe) | EXPRESSION | (1 - p_severe) | Probability of mild symptoms | dimensionless 
 (1-q)* | EXPRESSION | (1 - q) *  | Non-quarantine incubation rate | 1/time 
 _p*(1-p_severe) | EXPRESSION | _p * (1 - p_severe) | Mild symptom development rate | 1/time 
 _p*p_severe | EXPRESSION | _p * p_severe | Severe symptom development rate | 1/time 
 FLOWS: 
 All flows reference parameters not numeric values. 
 Flow 1: Susceptible to Exposed 
 Type: ContactFlow 
 Source: Susceptible compartment 
 Target: Exposed compartment 
 Description: Infection through contact with infectious individuals 
 Contact compartment: Infectious (presymptomatic) compartment 
 Contact rate parameter:  
 Stratum-specific contact rates: 
   0-17: use  parameter multiplied by 0.7 (children lower susceptibility) 
   18-64: use  parameter multiplied by 1.0 (standard susceptibility) 
   65+: use  parameter multiplied by 1.3 (elderly higher susceptibility) 
 Note: This simplifies the multi-compartment transmission from original model. Contact with presymptomatic represents overall infectious contact. 
 Flow 2: Exposed to Exposed (quarantined) 
 Type: RateFlow 
 Source: Exposed compartment 
 Target: Exposed (quarantined) compartment 
 Description: Quarantine of exposed individuals 
 Rate parameter: q 
 Stratum-specific: Same rate for all strata 
 Flow 3: Exposed to Infectious (presymptomatic) 
 Type: RateFlow 
 Source: Exposed compartment 
 Target: Infectious (presymptomatic) compartment 
 Description: Progression to presymptomatic infectious 
 Rate parameter: (1-q)* 
 Stratum-specific rates: 
   0-17: use (1-q)* parameter multiplied by 1.25 (faster progression) 
   18-64: use (1-q)* parameter multiplied by 1.0 (standard progression) 
   65+: use (1-q)* parameter multiplied by 0.75 (slower progression) 
 Flow 4: Exposed (quarantined) to Infectious (presymptomatic isolated) 
 Type: RateFlow 
 Source: Exposed (quarantined) compartment 
 Target: Infectious (presymptomatic isolated) compartment 
 Description: Progression of quarantined to isolated presymptomatic 
 Rate parameter: _q 
 Stratum-specific rates: 
   0-17: use _q parameter multiplied by 1.25 
   18-64: use _q parameter multiplied by 1.0 
   65+: use _q parameter multiplied by 0.75 
 Flow 5: Infectious (presymptomatic) to Infectious (mild to moderate) 
 Type: RateFlow 
 Source: Infectious (presymptomatic) compartment 
 Target: Infectious (mild to moderate) compartment 
 Description: Development of mild to moderate symptoms 
 Rate parameter: _p*(1-p_severe) 
 Stratum-specific rates: 
   0-17: use _p*(1-p_severe) parameter multiplied by 1.15 (99% mild for children) 
   18-64: use _p*(1-p_severe) parameter multiplied by 1.0 (85% mild for adults) 
   65+: use _p*(1-p_severe) parameter multiplied by 0.76 (65% mild for elderly) 
 Flow 6: Infectious (presymptomatic) to Infectious (severe) 
 Type: RateFlow 
 Source: Infectious (presymptomatic) compartment 
 Target: Infectious (severe) compartment 
 Description: Development of severe symptoms 
 Rate parameter: _p*p_severe 
 Stratum-specific rates: 
   0-17: use _p*p_severe parameter multiplied by 0.07 (1% severe for children) 
   18-64: use _p*p_severe parameter multiplied by 1.0 (15% severe for adults) 
   65+: use _p*p_severe parameter multiplied by 2.33 (35% severe for elderly) 
 Flow 7: Infectious (presymptomatic isolated) to Infectious (mild to moderate isolated) 
 Type: RateFlow 
 Source: Infectious (presymptomatic isolated) compartment 
 Target: Infectious (mild to moderate isolated) compartment 
 Description: Development of mild symptoms in isolated 
 Rate parameter: _p*(1-p_severe) 
 Stratum-specific rates: 
   0-17: use _p*(1-p_severe) parameter multiplied by 1.15 
   18-64: use _p*(1-p_severe) parameter multiplied by 1.0 
   65+: use _p*(1-p_severe) parameter multiplied by 0.76 
 Flow 8: Infectious (presymptomatic isolated) to Infectious (severe isolated) 
 Type: RateFlow 
 Source: Infectious (presymptomatic isolated) compartment 
 Target: Infectious (severe isolated) compartment 
 Description: Development of severe symptoms in isolated 
 Rate parameter: _p*p_severe 
 Stratum-specific rates: 
   0-17: use _p*p_severe parameter multiplied by 0.07 
   18-64: use _p*p_severe parameter multiplied by 1.0 
   65+: use _p*p_severe parameter multiplied by 2.33 
 Flow 9: Infectious (mild to moderate) to Isolated 
 Type: RateFlow 
 Source: Infectious (mild to moderate) compartment 
 Target: Isolated compartment 
 Description: Detection and isolation of mild cases 
 Rate parameter: _m 
 Stratum-specific: Same rate for all strata 
 Flow 10: Infectious (mild to moderate) to Recovered 
 Type: RateFlow 
 Source: Infectious (mild to moderate) compartment 
 Target: Recovered compartment 
 Description: Recovery from mild symptoms without isolation 
 Rate parameter: _m 
 Stratum-specific: Same rate for all strata 
 Flow 11: Infectious (mild to moderate isolated) to Isolated 
 Type: RateFlow 
 Source: Infectious (mild to moderate isolated) compartment 
 Target: Isolated compartment 
 Description: Transfer to central isolation facility 
 Rate parameter: _iso 
 Stratum-specific: Same rate for all strata 
 Flow 12: Infectious (severe) to Admitted to hospital 
 Type: RateFlow 
 Source: Infectious (severe) compartment 
 Target: Admitted to hospital compartment 
 Description: Hospitalization of severe cases 
 Rate parameter: _s 
 Stratum-specific: Same rate for all strata 
 Flow 13: Infectious (severe isolated) to Admitted to hospital 
 Type: RateFlow 
 Source: Infectious (severe isolated) compartment 
 Target: Admitted to hospital compartment 
 Description: Hospitalization of isolated severe cases 
 Rate parameter: _s 
 Stratum-specific: Same rate for all strata 
 Flow 14: Isolated to Recovered 
 Type: RateFlow 
 Source: Isolated compartment 
 Target: Recovered compartment 
 Description: Recovery from isolation 
 Rate parameter: _iso 
 Stratum-specific: Same rate for all strata 
 Flow 15: Admitted to hospital to Recovered 
 Type: RateFlow 
 Source: Admitted to hospital compartment 
 Target: Recovered compartment 
 Description: Recovery from hospital (pre-ICU) 
 Rate parameter: _h_r 
 Stratum-specific rates: 
   0-17: use _h_r parameter multiplied by 1.22 (90% recovery for children) 
   18-64: use _h_r parameter multiplied by 1.08 (80% recovery for adults) 
   65+: use _h_r parameter multiplied by 0.81 (60% recovery for elderly) 
 Flow 16: Admitted to hospital to ICU 
 Type: RateFlow 
 Source: Admitted to hospital compartment 
 Target: ICU compartment 
 Description: Admission to ICU 
 Rate parameter: _h_icu 
 Stratum-specific: Same rate for all strata (26% for all ages) 
 Flow 17: ICU to Admitted to hospital (post-ICU) 
 Type: RateFlow 
 Source: ICU compartment 
 Target: Admitted to hospital (post-ICU) compartment 
 Description: Improvement and transfer to post-ICU care 
 Rate parameter: _icu_post 
 Stratum-specific rates: 
   0-17: use _icu_post parameter multiplied by 1.42 (85% improvement for children) 
   18-64: use _icu_post parameter multiplied by 1.17 (70% improvement for adults) 
   65+: use _icu_post parameter multiplied by 0.75 (45% improvement for elderly) 
 Flow 18: ICU to COVID Deaths 
 Type: RateFlow 
 Source: ICU compartment 
 Target: COVID Deaths compartment 
 Description: Death from COVID-19 in ICU 
 Rate parameter: _icu 
 Stratum-specific rates: 
   0-17: use _icu parameter multiplied by 0.0 (0% mortality for children) 
   18-64: use _icu parameter multiplied by 0.5 (20% mortality for adults) 
   65+: use _icu parameter multiplied by 1.45 (58% mortality for elderly) 
 Flow 19: Admitted to hospital (post-ICU) to Recovered 
 Type: RateFlow 
 Source: Admitted to hospital (post-ICU) compartment 
 Target: Recovered compartment 
 Description: Recovery from post-ICU hospital care 
 Rate parameter: _post 
 Stratum-specific: Same rate for all strata 
 BIRTH SOURCES: 
 Birth 1: 
 Name: Population Birth 
 Rate parameter: birth_rate 
 Target: Susceptible compartment 
 Target stratum: 0-17 
 DEATH SINKS: 
 No natural death sinks modeled. Only COVID deaths occur through Flow 18 (ICU to COVID Deaths compartment).
********************************************************************************
LLM1'S RESPONSE:
```xml
<!--
Reasoning:
- Creating 15 base compartments each stratified by AgeStratification product referencing AgeGroup group (3 values).
- Product AgeStratification is applied to all compartments.
- Initial populations split across three age groups.
- Creating 23 parameters (16 CONSTANT, 7 EXPRESSION) with exactly specified properties.
- Implementing 19 flows and 1 birth source, no death sinks.
- Using stratum-specific rates appropriately as specified.
-->
<?xml version="1.0" encoding="UTF-8"?>
<seir:SEIRModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:seir="http://example.com/seirmodel">
  <products name="AgeStratification" description="Age-based compartment stratification">
    <groups name="AgeGroup">
      <values>0-17</values>
      <values>18-64</values>
      <values>65+</values>
    </groups>
  </products>
  <parameters name="" expression="0.00001" description="Base transmission rate" unit="1/time"/>
  <parameters name="q" expression="0.0" description="Quarantine rate for exposed" unit="1/time"/>
  <parameters name="" expression="0.4" description="Incubation rate (progression to infectious)" unit="1/time"/>
  <parameters name="_q" expression="0.4" description="Incubation rate for quarantined" unit="1/time"/>
  <parameters name="_p" expression="1.0" description="Rate of symptom onset" unit="1/time"/>
  <parameters name="p_severe" expression="0.15" description="Probability of developing severe symptoms" unit="dimensionless"/>
  <parameters name="_m" expression="0.167" description="Recovery rate for mild cases" unit="1/time"/>
  <parameters name="_m" expression="0.5" description="Isolation rate for mild cases" unit="1/time"/>
  <parameters name="_s" expression="0.167" description="Hospitalization rate for severe cases" unit="1/time"/>
  <parameters name="_iso" expression="0.0" description="Rate of movement to isolated state" unit="1/time"/>
  <parameters name="_iso" expression="0.167" description="Recovery rate from isolation" unit="1/time"/>
  <parameters name="_h_r" expression="0.74" description="Recovery rate from pre-ICU hospital" unit="1/time"/>
  <parameters name="_h_icu" expression="0.26" description="Progression rate to ICU" unit="1/time"/>
  <parameters name="_icu_post" expression="0.6" description="Improvement rate ICU to post-ICU" unit="1/time"/>
  <parameters name="_icu" expression="0.4" description="Mortality rate in ICU" unit="1/time"/>
  <parameters name="_post" expression="0.048" description="Recovery rate post-ICU" unit="1/time"/>
  <parameters name="N" expression="14800000" description="Total population" unit="individuals"/>
  <parameters name="birth_rate" expression="3.0E-5" description="Population birth rate" unit="1/time"/>
  <parameters name="(1-q)" type="EXPRESSION" expression="(1 - q)" description="Non-quarantine rate" unit="dimensionless"/>
  <parameters name="(1-p_severe)" type="EXPRESSION" expression="(1 - p_severe)" description="Probability of mild symptoms" unit="dimensionless"/>
  <parameters name="(1-q)*" type="EXPRESSION" expression="(1 - q) * " description="Non-quarantine incubation rate" unit="1/time"/>
  <parameters name="_p*(1-p_severe)" type="EXPRESSION" expression="_p * (1 - p_severe)" description="Mild symptom development rate" unit="1/time"/>
  <parameters name="_p*p_severe" type="EXPRESSION" expression="_p * p_severe" description="Severe symptom development rate" unit="1/time"/>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="4900000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:ContactFlow" contactRateParameter="//@parameters.0" contactCompartment="//@compartments.3" target="//@compartments.1" description="Infection through contact with infectious individuals">
      <stratumSpecificRates stratum="0-17" multiplier="0.7"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="1.3"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="8800000" SecondaryName="18-64"/>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="1000000" SecondaryName="65+"/>
  <compartments PrimaryName="Exposed" product="//@products.0" population="1667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.1" target="//@compartments.2" description="Quarantine of exposed individuals"/>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.20" target="//@compartments.3" description="Progression to presymptomatic infectious">
      <stratumSpecificRates stratum="0-17" multiplier="1.25"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Exposed" product="//@products.0" population="3000" SecondaryName="18-64"/>
  <compartments PrimaryName="Exposed" product="//@products.0" population="333" SecondaryName="65+"/>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.3" target="//@compartments.4" description="Progression of quarantined to isolated presymptomatic">
      <stratumSpecificRates stratum="0-17" multiplier="1.25"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="600" SecondaryName="18-64"/>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="67" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="1000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.23" target="//@compartments.6" description="Development of mild to moderate symptoms">
      <stratumSpecificRates stratum="0-17" multiplier="1.15"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.76"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.24" target="//@compartments.8" description="Development of severe symptoms">
      <stratumSpecificRates stratum="0-17" multiplier="0.07"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="2.33"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="1800" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="200" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.23" target="//@compartments.7" description="Development of mild symptoms in isolated">
      <stratumSpecificRates stratum="0-17" multiplier="1.15"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.76"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.24" target="//@compartments.9" description="Development of severe symptoms in isolated">
      <stratumSpecificRates stratum="0-17" multiplier="0.07"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="2.33"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="600" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="67" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="2667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.7" target="//@compartments.10" description="Detection and isolation of mild cases"/>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.6" target="//@compartments.13" description="Recovery from mild symptoms without isolation"/>
  </compartments>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="4800" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="533" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="1333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.9" target="//@compartments.10" description="Transfer to central isolation facility"/>
  </compartments>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="2400" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="267" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.8" target="//@compartments.11" description="Hospitalization of severe cases"/>
  </compartments>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="1200" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="133" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="267" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.8" target="//@compartments.11" description="Hospitalization of isolated severe cases"/>
  </compartments>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="480" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="53" SecondaryName="65+"/>
  <compartments PrimaryName="Isolated" product="//@products.0" population="2000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.10" target="//@compartments.13" description="Recovery from isolation"/>
  </compartments>
  <compartments PrimaryName="Isolated" product="//@products.0" population="3600" SecondaryName="18-64"/>
  <compartments PrimaryName="Isolated" product="//@products.0" population="400" SecondaryName="65+"/>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="500" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.11" target="//@compartments.13" description="Recovery from hospital (pre-ICU)">
      <stratumSpecificRates stratum="0-17" multiplier="1.22"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.08"/>
      <stratumSpecificRates stratum="65+" multiplier="0.81"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.12" target="//@compartments.12" description="Admission to ICU"/>
  </compartments>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="900" SecondaryName="18-64"/>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="100" SecondaryName="65+"/>
  <compartments PrimaryName="ICU" product="//@products.0" population="133" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.13" target="//@compartments.14" description="Improvement and transfer to post-ICU care">
      <stratumSpecificRates stratum="0-17" multiplier="1.42"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.17"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.14" target="//@compartments.15" description="Death from COVID-19 in ICU">
      <stratumSpecificRates stratum="0-17" multiplier="0.0"/>
      <stratumSpecificRates stratum="18-64" multiplier="0.5"/>
      <stratumSpecificRates stratum="65+" multiplier="1.45"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="ICU" product="//@products.0" population="240" SecondaryName="18-64"/>
  <compartments PrimaryName="ICU" product="//@products.0" population="27" SecondaryName="65+"/>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="67" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.15" target="//@compartments.13" description="Recovery from post-ICU hospital care"/>
  </compartments>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="120" SecondaryName="18-64"/>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="13" SecondaryName="65+"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="16667" SecondaryName="0-17"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="30000" SecondaryName="18-64"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="3333" SecondaryName="65+"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="33" SecondaryName="0-17"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="60" SecondaryName="18-64"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="7" SecondaryName="65+"/>
  <birthSources name="Population Birth" rateParameter="//@parameters.17" targetCompartment="//@compartments.0" targetStratum="0-17"/>
</seir:SEIRModel>
```
********************************************************************************
LLM2'S RESPONSE:
```xml
<!--
Reasoning:
- All parameter values are prioritized as named parameters with Greek symbols.
- Placeholders for numeric rates in flows are not applicable since this is a parametric model.
- Stratification is applied for age groups 0-17, 18-64, and 65+ as specified.
- All flows utilize specified parameter names; hence, no numeric placeholders exist to replace.
-->
<?xml version="1.0" encoding="UTF-8"?>
<seir:SEIRModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:seir="http://example.com/seirmodel">
  <products name="AgeStratification" description="Age-based compartment stratification">
    <groups name="AgeGroup">
      <values>0-17</values>
      <values>18-64</values>
      <values>65+</values>
    </groups>
  </products>
  <parameters name="" expression="0.00001" description="Base transmission rate" unit="1/time"/>
  <parameters name="q" expression="0.0" description="Quarantine rate for exposed" unit="1/time"/>
  <parameters name="" expression="0.4" description="Incubation rate (progression to infectious)" unit="1/time"/>
  <parameters name="_q" expression="0.4" description="Incubation rate for quarantined" unit="1/time"/>
  <parameters name="_p" expression="1.0" description="Rate of symptom onset" unit="1/time"/>
  <parameters name="p_severe" expression="0.15" description="Probability of developing severe symptoms" unit="dimensionless"/>
  <parameters name="_m" expression="0.167" description="Recovery rate for mild cases" unit="1/time"/>
  <parameters name="_m" expression="0.5" description="Isolation rate for mild cases" unit="1/time"/>
  <parameters name="_s" expression="0.167" description="Hospitalization rate for severe cases" unit="1/time"/>
  <parameters name="_iso" expression="0.0" description="Rate of movement to isolated state" unit="1/time"/>
  <parameters name="_iso" expression="0.167" description="Recovery rate from isolation" unit="1/time"/>
  <parameters name="_h_r" expression="0.74" description="Recovery rate from pre-ICU hospital" unit="1/time"/>
  <parameters name="_h_icu" expression="0.26" description="Progression rate to ICU" unit="1/time"/>
  <parameters name="_icu_post" expression="0.6" description="Improvement rate ICU to post-ICU" unit="1/time"/>
  <parameters name="_icu" expression="0.4" description="Mortality rate in ICU" unit="1/time"/>
  <parameters name="_post" expression="0.048" description="Recovery rate post-ICU" unit="1/time"/>
  <parameters name="N" expression="14800000" description="Total population" unit="individuals"/>
  <parameters name="birth_rate" expression="3.0E-5" description="Population birth rate" unit="1/time"/>
  <parameters name="(1-q)" type="EXPRESSION" expression="(1 - q)" description="Non-quarantine rate" unit="dimensionless"/>
  <parameters name="(1-p_severe)" type="EXPRESSION" expression="(1 - p_severe)" description="Probability of mild symptoms" unit="dimensionless"/>
  <parameters name="(1-q)*" type="EXPRESSION" expression="(1 - q) * " description="Non-quarantine incubation rate" unit="1/time"/>
  <parameters name="_p*(1-p_severe)" type="EXPRESSION" expression="_p * (1 - p_severe)" description="Mild symptom development rate" unit="1/time"/>
  <parameters name="_p*p_severe" type="EXPRESSION" expression="_p * p_severe" description="Severe symptom development rate" unit="1/time"/>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="4900000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:ContactFlow" contactRateParameter="//@parameters.0" contactCompartment="//@compartments.3" target="//@compartments.1" description="Infection through contact with infectious individuals">
      <stratumSpecificRates stratum="0-17" multiplier="0.7"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="1.3"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="8800000" SecondaryName="18-64"/>
  <compartments PrimaryName="Susceptible" product="//@products.0" population="1000000" SecondaryName="65+"/>
  <compartments PrimaryName="Exposed" product="//@products.0" population="1667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.1" target="//@compartments.2" description="Quarantine of exposed individuals"/>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.20" target="//@compartments.3" description="Progression to presymptomatic infectious">
      <stratumSpecificRates stratum="0-17" multiplier="1.25"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Exposed" product="//@products.0" population="3000" SecondaryName="18-64"/>
  <compartments PrimaryName="Exposed" product="//@products.0" population="333" SecondaryName="65+"/>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.3" target="//@compartments.4" description="Progression of quarantined to isolated presymptomatic">
      <stratumSpecificRates stratum="0-17" multiplier="1.25"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="600" SecondaryName="18-64"/>
  <compartments PrimaryName="Exposed, quarantined" product="//@products.0" population="67" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="1000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.23" target="//@compartments.6" description="Development of mild to moderate symptoms">
      <stratumSpecificRates stratum="0-17" multiplier="1.15"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.76"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.24" target="//@compartments.8" description="Development of severe symptoms">
      <stratumSpecificRates stratum="0-17" multiplier="0.07"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="2.33"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="1800" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, presymptomatic" product="//@products.0" population="200" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.23" target="//@compartments.7" description="Development of mild symptoms in isolated">
      <stratumSpecificRates stratum="0-17" multiplier="1.15"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="0.76"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.24" target="//@compartments.9" description="Development of severe symptoms in isolated">
      <stratumSpecificRates stratum="0-17" multiplier="0.07"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.0"/>
      <stratumSpecificRates stratum="65+" multiplier="2.33"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="600" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, presymptomatic isolated" product="//@products.0" population="67" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="2667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.7" target="//@compartments.10" description="Detection and isolation of mild cases"/>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.6" target="//@compartments.13" description="Recovery from mild symptoms without isolation"/>
  </compartments>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="4800" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, mild to moderate" product="//@products.0" population="533" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="1333" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.9" target="//@compartments.10" description="Transfer to central isolation facility"/>
  </compartments>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="2400" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, mild to moderate isolated" product="//@products.0" population="267" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="667" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.8" target="//@compartments.11" description="Hospitalization of severe cases"/>
  </compartments>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="1200" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, severe" product="//@products.0" population="133" SecondaryName="65+"/>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="267" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.8" target="//@compartments.11" description="Hospitalization of isolated severe cases"/>
  </compartments>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="480" SecondaryName="18-64"/>
  <compartments PrimaryName="Infectious, severe isolated" product="//@products.0" population="53" SecondaryName="65+"/>
  <compartments PrimaryName="Isolated" product="//@products.0" population="2000" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.10" target="//@compartments.13" description="Recovery from isolation"/>
  </compartments>
  <compartments PrimaryName="Isolated" product="//@products.0" population="3600" SecondaryName="18-64"/>
  <compartments PrimaryName="Isolated" product="//@products.0" population="400" SecondaryName="65+"/>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="500" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.11" target="//@compartments.13" description="Recovery from hospital (pre-ICU)">
      <stratumSpecificRates stratum="0-17" multiplier="1.22"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.08"/>
      <stratumSpecificRates stratum="65+" multiplier="0.81"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.12" target="//@compartments.12" description="Admission to ICU"/>
  </compartments>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="900" SecondaryName="18-64"/>
  <compartments PrimaryName="Admitted to hospital" product="//@products.0" population="100" SecondaryName="65+"/>
  <compartments PrimaryName="ICU" product="//@products.0" population="133" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.13" target="//@compartments.14" description="Improvement and transfer to post-ICU care">
      <stratumSpecificRates stratum="0-17" multiplier="1.42"/>
      <stratumSpecificRates stratum="18-64" multiplier="1.17"/>
      <stratumSpecificRates stratum="65+" multiplier="0.75"/>
    </outgoingFlows>
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.14" target="//@compartments.15" description="Death from COVID-19 in ICU">
      <stratumSpecificRates stratum="0-17" multiplier="0.0"/>
      <stratumSpecificRates stratum="18-64" multiplier="0.5"/>
      <stratumSpecificRates stratum="65+" multiplier="1.45"/>
    </outgoingFlows>
  </compartments>
  <compartments PrimaryName="ICU" product="//@products.0" population="240" SecondaryName="18-64"/>
  <compartments PrimaryName="ICU" product="//@products.0" population="27" SecondaryName="65+"/>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="67" SecondaryName="0-17">
    <outgoingFlows xsi:type="seir:RateFlow" rateParameter="//@parameters.15" target="//@compartments.13" description="Recovery from post-ICU hospital care"/>
  </compartments>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="120" SecondaryName="18-64"/>
  <compartments PrimaryName="Admitted to hospital, post-ICU" product="//@products.0" population="13" SecondaryName="65+"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="16667" SecondaryName="0-17"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="30000" SecondaryName="18-64"/>
  <compartments PrimaryName="Recovered" product="//@products.0" population="3333" SecondaryName="65+"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="33" SecondaryName="0-17"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="60" SecondaryName="18-64"/>
  <compartments PrimaryName="COVID Deaths" product="//@products.0" population="7" SecondaryName="65+"/>
  <birthSources name="Population Birth" rateParameter="//@parameters.17" targetCompartment="//@compartments.0" targetStratum="0-17"/>
</seir:SEIRModel>
```